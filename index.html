<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egzamin Linux - Pe≈Çna Baza (150+ pyta≈Ñ)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; color: #333; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        .quiz-container { background: white; padding: 40px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); max-width: 800px; width: 100%; }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 10px; }
        .status-bar { display: flex; justify-content: space-between; margin-bottom: 20px; color: #7f8c8d; font-size: 0.9em; font-weight: bold; }
        .progress-bar { width: 100%; height: 10px; background-color: #e0e0e0; border-radius: 5px; margin-bottom: 25px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: #3498db; width: 0%; transition: width 0.3s ease; }
        .question-text { font-size: 1.25em; font-weight: 600; margin-bottom: 20px; line-height: 1.4; }
        
        /* STYL KODU ZE ZDJƒòCIA */
        .code-block { 
            background: #282c34; 
            color: #abb2bf; 
            padding: 15px; 
            border-radius: 6px; 
            font-family: 'Consolas', 'Monaco', monospace; 
            margin: 15px 0; 
            white-space: pre-wrap; 
            overflow-x: auto; 
            font-size: 0.95em; 
            border-left: 5px solid #e67e22; /* Pomara≈Ñczowy pasek */
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
        }

        .btn { width: 100%; padding: 12px 15px; border: 2px solid #e1e4e8; background: white; cursor: pointer; border-radius: 8px; text-align: left; transition: all 0.2s; font-size: 1rem; margin-bottom: 10px; }
        .btn:hover:not([disabled]) { background-color: #f8f9fa; border-color: #3498db; }
        .btn.correct { background-color: #d4edda; border-color: #28a745; color: #155724; }
        .btn.wrong { background-color: #f8d7da; border-color: #dc3545; color: #721c24; }
        .feedback { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; line-height: 1.5; font-size: 0.95em; }
        .next-btn { background-color: #2980b9; color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer; float: right; display: none; margin-top: 20px; font-size: 1em; font-weight: bold; }
        .next-btn:hover { background-color: #1abc9c; }
        .result-view { text-align: center; display: none; }
        .final-score { font-size: 4em; font-weight: bold; color: #2c3e50; margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-box">
    <h1>Egzamin Linux - Wielka Baza</h1>
    
    <div class="status-bar">
        <span id="question-count">≈Åadowanie...</span>
        <span id="score-live">Punkty: 0</span>
    </div>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>

    <div class="question-text" id="q-text"></div>
    <div id="q-code" class="code-block" style="display:none;"></div>
    <div id="options"></div>
    
    <div id="feedback" class="feedback"></div>
    <button id="next-btn" class="next-btn" onclick="nextQuestion()">Nastƒôpne pytanie ‚ûî</button>
</div>

<div class="quiz-container result-view" id="result-box">
    <h1>Koniec egzaminu!</h1>
    <p>Tw√≥j wynik ko≈Ñcowy:</p>
    <div class="final-score" id="final-score">0/0</div>
    <p id="score-msg" style="font-size: 1.2em; color: #555;"></p>
    <button class="btn" onclick="location.reload()" style="text-align: center; background-color: #3498db; color: white; border: none; margin-top: 20px;">Spr√≥buj ponownie (Losuj nowe)</button>
</div>

<script>
// Baza pyta≈Ñ - Oryginalne + Nowe wygenerowane z wyk≈Çad√≥w
const questionsDatabase = [
    // --- ORYGINALNE PYTANIA ---
    {
        text: `DefiniujƒÖc partycjƒô 'swap' jako punkt montowania wska≈ºesz:`,
        options: [`katalog /swap`, `katalog /mnt/swap`, `plik /memory/swap`, `Przy partycji swap nie wskazuje siƒô punktu montowania`],
        answer: 3,
        explanation: `Swap nie jest czƒô≈õciƒÖ drzewa katalog√≥w, lecz jest u≈ºywany bezpo≈õrednio przez jƒÖdro do zarzƒÖdzania pamiƒôciƒÖ.`
    },
    {
        text: `Co wypisze polecenie echo w nastƒôpujƒÖcym ciƒÖgu polece≈Ñ?`,
        code: `cd /home/student\npwd=abc\nbash\nexport pwd\npwd=bbb\nexit\necho $pwd`,
        options: [`bbb`, `abc`, `/home/student`, `b≈ÇƒÖd`],
        answer: 1,
        [cite_start]explanation: `Uruchomienie 'bash' tworzy proces potomny. Zmiana zmiennej w potomku nie wp≈Çywa na rodzica. Po wyj≈õciu (exit) w rodzicu wciƒÖ≈º jest 'abc' [cite: 810-822].`
    },
    {
        text: `Po stworzeniu nowego katalogu poleceniem 'mkdir A', nastƒôpujƒÖce wpisy bƒôdƒÖ posiada≈Çy ten sam numer i-node'u:`,
        options: [`A oraz ./A/`, `A oraz A/.`, `A/ oraz /A/.`, `.. oraz A`],
        answer: 1,
        explanation: `Wpis 'A' (w katalogu nadrzƒôdnym) i wpis '.' (kropka wewnƒÖtrz katalogu A) wskazujƒÖ na ten sam fizyczny katalog.`
    },
    {
        text: `W katalogu bie≈ºƒÖcym skasuj plik o nazwie * (gwiazdka).`,
        options: [`rm *`, `rm all`, `rm \\*`, `rm %`],
        answer: 2,
        explanation: `Gwiazdka to metaznak. ≈ªeby u≈ºyƒá jej dos≈Çownie, trzeba jƒÖ 'uciec' (escape) znakiem backslash: \\*.`
    },
    {
        text: `Wzorzec wyra≈ºe≈Ñ regularnych '.' (kropka) odnosi siƒô do:`,
        options: [`Linii z≈Ço≈ºonej z trzech znak√≥w`, `Dowolnego pojedynczego znaku`, `Znaku kropki`, `Ko≈Ñca linii`],
        answer: 1,
        [cite_start]explanation: `W regex (np. grep) kropka zastƒôpuje jeden dowolny znak[cite: 34].`
    },
    {
        text: `Liczbƒô parametr√≥w przekazanych do skryptu odczytaƒá mo≈ºna zmiennƒÖ:`,
        options: [`$#`, `$*`, `$@`, `$?`],
        answer: 0,
        [cite_start]explanation: `$# przechowuje liczbƒô argument√≥w[cite: 1377].`
    },
    {
        text: `Prawa 640 oznaczajƒÖ:`,
        options: [`rw- r-- ---`, `rw- rw- ---`, `r-- r-- ---`, `rwx r-x ---`],
        answer: 0,
        [cite_start]explanation: `6 (4+2=rw), 4 (r), 0 (---)[cite: 1022].`
    },
    {
        text: `Polecenie 'tail -f a.txt' spowoduje:`,
        options: [`Wypisanie ostatnich 5 linii`, `≈öledzenie przyrost√≥w pliku na bie≈ºƒÖco`, `Skasowanie pliku`, `Otwarcie edytora`],
        answer: 1,
        [cite_start]explanation: `-f to 'follow', pozwala ≈õledziƒá dopisywane linie[cite: 341].`
    },
    {
        text: `Efektem 'head -n -2 a.txt' bƒôdzie:`,
        options: [`Wypisanie 2 pierwszych linii`, `Wypisanie wszystkich linii opr√≥cz dw√≥ch ostatnich`, `B≈ÇƒÖd`, `Dwie puste linie`],
        answer: 1,
        [cite_start]explanation: `Ujemna warto≈õƒá w head oznacza wypisanie wszystkiego OPR√ìCZ ostatnich N linii[cite: 322].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 09 - Przekierowania) ---
    {
        text: `Standardowe wyj≈õcie b≈Çƒôd√≥w (stderr) ma deskryptor o numerze:`,
        options: [`0`, `1`, `2`, `3`],
        answer: 2,
        [cite_start]explanation: `0: stdin, 1: stdout, 2: stderr[cite: 170].`
    },
    {
        text: `Operator '>>' s≈Çu≈ºy do:`,
        options: [`Przekierowania wej≈õcia z pliku`, `Przekierowania wyj≈õcia do pliku (nadpisanie)`, `Przekierowania wyj≈õcia do pliku (dopisanie)`, `Tworzenia ≈ÇƒÖcza pipe`],
        answer: 2,
        [cite_start]explanation: `>> dopisuje wynik polecenia do zawarto≈õci pliku, zamiast go kasowaƒá[cite: 183].`
    },
    {
        text: `Jaki jest skutek polecenia 'cat > a.txt'?`,
        options: [`Wy≈õwietlenie pliku a.txt`, `Utworzenie pliku a.txt i oczekiwanie na wpisanie tre≈õci z klawiatury`, `B≈ÇƒÖd sk≈Çadni`, `Do≈ÇƒÖczenie tekstu do a.txt`],
        answer: 1,
        [cite_start]explanation: `Przekierowanie stdout cat (kt√≥ry bez argument√≥w czyta stdin) do pliku pozwala utworzyƒá plik z tre≈õciƒÖ wpisanƒÖ rƒôcznie [cite: 193-195].`
    },
    {
        text: `Konstrukcja '<< eof' w skryptach s≈Çu≈ºy do:`,
        options: [`Zako≈Ñczenia skryptu`, `Kopiowania standardowego wej≈õcia do momentu napotkania s≈Çowa 'eof'`, `Przekierowania b≈Çƒôd√≥w do pliku eof`, `Sortowania pliku`],
        answer: 1,
        explanation: `Jest to tzw. [cite_start]'Here Document', pozwala przekazaƒá blok tekstu do polecenia[cite: 211].`
    },
    {
        text: `≈ÅƒÖcze komunikacyjne (pipe) '|' pozwala na:`,
        options: [`Zapisanie wyj≈õcia do pliku`, `Po≈ÇƒÖczenie stdout jednego polecenia z stdin drugiego`, `Uruchomienie polece≈Ñ r√≥wnolegle bez komunikacji`, `Skopiowanie plik√≥w`],
        answer: 1,
        [cite_start]explanation: `Pipe ≈ÇƒÖczy stdout procesu 1 z stdin procesu 2[cite: 258].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 10 - Filtry) ---
    {
        text: `Kt√≥re polecenie s≈Çu≈ºy do usuwania powtarzajƒÖcych siƒô linii (pod warunkiem, ≈ºe sƒÖ posortowane)?`,
        options: [`sort`, `uniq`, `cut`, `paste`],
        answer: 1,
        [cite_start]explanation: `Polecenie uniq pomija powtarzajƒÖce siƒô wiersze, ale wymaga posortowanych danych[cite: 528].`
    },
    {
        text: `Domy≈õlnie polecenie 'sort' sortuje dane:`,
        options: [`Numerycznie`, `Wed≈Çug rozmiaru pliku`, `Alfabetycznie (leksykograficznie)`, `Losowo`],
        answer: 2,
        explanation: `Domy≈õlne sortowanie jest alfabetyczne. [cite_start]Do numerycznego s≈Çu≈ºy flaga -n[cite: 500].`
    },
    {
        text: `Aby posortowaƒá dane numerycznie, nale≈ºy u≈ºyƒá flagi:`,
        options: [`-r`, `-n`, `-k`, `-u`],
        answer: 1,
        [cite_start]explanation: `-n wymusza sortowanie numeryczne[cite: 510].`
    },
    {
        text: `Polecenie 'cut -d: -f1 /etc/passwd' spowoduje:`,
        options: [`Wypisanie ca≈Çego pliku`, `Wypisanie pierwszej kolumny, u≈ºywajƒÖc dwukropka jako separatora`, `Usuniƒôcie pliku passwd`, `Wypisanie pierwszej linii`],
        answer: 1,
        [cite_start]explanation: `-d definiuje separator, -f wybiera kolumnƒô (tu: pierwszƒÖ)[cite: 554].`
    },
    {
        text: `Polecenie 'tr a-z A-Z' wykonuje:`,
        options: [`Sortowanie alfabetyczne`, `Zamianƒô ma≈Çych liter na du≈ºe`, `Usuniƒôcie liter a i z`, `Zliczenie liter`],
        answer: 1,
        [cite_start]explanation: `tr (translate) s≈Çu≈ºy do zamiany znak√≥w lub zakres√≥w znak√≥w[cite: 617].`
    },
    {
        text: `Polecenie 'tee' s≈Çu≈ºy do:`,
        options: [`Tylko wy≈õwietlania na ekran`, `Rozdzielenia danych na stdout i do pliku jednocze≈õnie`, `Sortowania danych`, `≈ÅƒÖczenia plik√≥w`],
        answer: 1,
        [cite_start]explanation: `tee duplikuje dane: wysy≈Ça je na ekran (stdout) i zapisuje do pliku[cite: 448].`
    },
    {
        text: `Parametr '-c' w poleceniu 'uniq' powoduje:`,
        options: [`Wy≈õwietlenie tylko unikalnych linii`, `Poprzedzenie linii liczbƒÖ jej wystƒÖpie≈Ñ`, `Ignorowanie wielko≈õci liter`, `Wy≈õwietlenie tylko duplikat√≥w`],
        answer: 1,
        [cite_start]explanation: `-c (count) zlicza wystƒÖpienia danej linii[cite: 540].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 06 - Substytucje) ---
    {
        text: `Metaznak '?' w pow≈Çoce (globbing) pasuje do:`,
        options: [`Zero lub wiƒôcej znak√≥w`, `Dok≈Çadnie jednego dowolnego znaku`, `PoczƒÖtku linii`, `Cyfry`],
        answer: 1,
        [cite_start]explanation: `W substytucji nazw plik√≥w '?' zastƒôpuje dok≈Çadnie jeden znak[cite: 684].`
    },
    {
        text: `Metaznak '[!a-c]' pasuje do:`,
        options: [`Znaku a, b lub c`, `Znaku innego ni≈º a, b lub c`, `CiƒÖgu "!a-c"`, `B≈ÇƒÖd sk≈Çadni`],
        answer: 1,
        [cite_start]explanation: `Wykrzyknik na poczƒÖtku nawiasu kwadratowego neguje zakres (dopasowuje znak spoza zakresu)[cite: 684].`
    },
    {
        text: `Substytucja polece≈Ñ (wykonanie polecenia i wstawienie wyniku) odbywa siƒô za pomocƒÖ:`,
        options: [`Nawias√≥w klamrowych {}`, `Apostrof√≥w pojedynczych ' '`, `Odwr√≥conych apostrof√≥w \` \` lub $()`, `Nawias√≥w kwadratowych []`],
        answer: 2,
        [cite_start]explanation: `Substytucja polece≈Ñ u≈ºywa \`command\` lub $(command)[cite: 695].`
    },
    {
        text: `Polecenie 'echo *' (bez cudzys≈Çow√≥w) spowoduje:`,
        options: [`Wy≈õwietlenie znaku gwiazdki`, `Wy≈õwietlenie listy plik√≥w w bie≈ºƒÖcym katalogu`, `B≈ÇƒÖd`, `Wy≈õwietlenie nazwy skryptu`],
        answer: 1,
        [cite_start]explanation: `Pow≈Çoka rozwija gwiazdkƒô do nazw wszystkich plik√≥w przed uruchomieniem echo[cite: 714].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 07 - Zmienne) ---
    {
        text: `Aby zmienna zdefiniowana w pow≈Çoce by≈Ça widoczna w procesach potomnych (np. skryptach), nale≈ºy u≈ºyƒá polecenia:`,
        options: [`set`, `env`, `export`, `define`],
        answer: 2,
        explanation: `Zmienne niewyeksportowane nie sƒÖ widoczne w procesach potomnych. [cite_start]Nale≈ºy u≈ºyƒá 'export'[cite: 775].`
    },
    {
        text: `Zmienna PATH przechowuje:`,
        options: [`≈öcie≈ºkƒô do katalogu domowego`, `Listƒô katalog√≥w przeszukiwanych w celu znalezienia polece≈Ñ`, `Typ terminala`, `Historiƒô polece≈Ñ`],
        answer: 1,
        [cite_start]explanation: `PATH okre≈õla katalogi, kt√≥re sƒÖ przeszukiwane w celu wykonania polecenia[cite: 756].`
    },
    {
        text: `Polecenie 'unset zmienna':`,
        options: [`Ustawia zmiennƒÖ na null`, `Usuwa zmiennƒÖ z pamiƒôci`, `Eksportuje zmiennƒÖ`, `Wy≈õwietla zmiennƒÖ`],
        answer: 1,
        [cite_start]explanation: `ZmiennƒÖ mo≈ºna wykasowaƒá poleceniem unset[cite: 743].`
    },
    {
        text: `Czy proces potomny mo≈ºe trwale zmieniƒá zmiennƒÖ ≈õrodowiskowƒÖ procesu macierzystego?`,
        options: [`Tak, zawsze`, `Tak, je≈õli u≈ºyje export`, `Nie, procesy potomne nie wp≈ÇywajƒÖ na ≈õrodowisko rodzica`, `Tylko je≈õli jest rootem`],
        answer: 2,
        [cite_start]explanation: `Procesy potomne nie mogƒÖ bezpo≈õrednio wp≈Çywaƒá na ≈õrodowisko procesu macierzystego[cite: 787].`
    },
    
    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 03 - Prawa dostƒôpu) ---
    {
        text: `Prawo 'execute' (x) w odniesieniu do katalogu oznacza:`,
        options: [`Mo≈ºliwo≈õƒá wy≈õwietlenia listy plik√≥w`, `Mo≈ºliwo≈õƒá wej≈õcia do katalogu (u≈ºycia go w ≈õcie≈ºce)`, `Mo≈ºliwo≈õƒá tworzenia plik√≥w`, `Mo≈ºliwo≈õƒá usuniƒôcia katalogu`],
        answer: 1,
        [cite_start]explanation: `Dla katalog√≥w 'x' oznacza prawo wej≈õcia/u≈ºycia plik√≥w wewnƒÖtrz[cite: 993].`
    },
    {
        text: `Co oznacza litera 's' w pozycji praw wykonywania w≈Ça≈õciciela (np. rwsr-xr-x)?`,
        options: [`Sticky Bit`, `SGID`, `SUID (Set User ID)`, `System file`],
        answer: 2,
        explanation: `Litera 's' u w≈Ça≈õciciela to SUID. [cite_start]Program uruchamia siƒô z uprawnieniami w≈Ça≈õciciela pliku[cite: 1063].`
    },
    {
        text: `Sticky bit ustawiony na katalogu (np. /tmp) powoduje, ≈ºe:`,
        options: [`Nikt nie mo≈ºe kasowaƒá plik√≥w`, `Ka≈ºdy mo≈ºe kasowaƒá wszystko`, `U≈ºytkownik mo≈ºe skasowaƒá tylko w≈Çasne pliki`, `Pliki sƒÖ automatycznie kasowane`],
        answer: 2,
        [cite_start]explanation: `Sticky bit pozwala kasowaƒá pliki tylko ich w≈Ça≈õcicielom, nawet je≈õli inni majƒÖ prawo zapisu do katalogu[cite: 1066].`
    },
    {
        text: `Je≈õli 'umask' wynosi 002, to domy≈õlne uprawnienia dla nowego pliku wyniosƒÖ:`,
        options: [`666`, `664`, `775`, `644`],
        answer: 1,
        [cite_start]explanation: `Domy≈õlnie dla plik√≥w startujemy od 666. 666 - 002 = 664 (rw-rw-r--) [cite: 1089-1092].`
    },
    {
        text: `Polecenie 'chmod 750 plik' nadaje uprawnienia:`,
        options: [`rwxr-x---`, `rwxrwxrwx`, `rw-r-----`, `rwxrw----`],
        answer: 0,
        [cite_start]explanation: `7 (rwx) dla w≈Ça≈õciciela, 5 (r-x) dla grupy, 0 (---) dla reszty[cite: 1022].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 05 - Find) ---
    {
        text: `Parametr '-iname' w poleceniu find r√≥≈ºni siƒô od '-name' tym, ≈ºe:`,
        options: [`Szuka tylko katalog√≥w`, `Nie uwzglƒôdnia wielko≈õci liter`, `Szuka plik√≥w ukrytych`, `U≈ºywa regex`],
        answer: 1,
        [cite_start]explanation: `-iname szuka bez wzglƒôdu na wielko≈õƒá liter (case insensitive)[cite: 1126].`
    },
    {
        text: `Polecenie 'find / -mtime +50' znajdzie pliki:`,
        options: [`Zmodyfikowane dok≈Çadnie 50 dni temu`, `Zmodyfikowane mniej ni≈º 50 dni temu`, `Zmodyfikowane dawniej ni≈º 50 dni temu`, `Zmodyfikowane w ciƒÖgu przysz≈Çych 50 dni`],
        answer: 2,
        [cite_start]explanation: `+N oznacza 'wiƒôcej ni≈º N' (starsze ni≈º N dni)[cite: 1201].`
    },
    {
        text: `Parametr '-exec rm {} \;' w poleceniu find oznacza:`,
        options: [`Wypisanie nazwy pliku`, `Wykonanie polecenia rm na ka≈ºdym znalezionym pliku`, `Zapytanie u≈ºytkownika o zgodƒô przed usuniƒôciem`, `Zignorowanie b≈Çƒôd√≥w`],
        answer: 1,
        explanation: `-exec wykonuje podane polecenie na znalezionych plikach bez pytania. [cite_start]Do potwierdzania s≈Çu≈ºy -ok[cite: 1241].`
    },
    {
        text: `Aby wyszukaƒá pliki o rozmiarze dok≈Çadnie 0 bajt√≥w, u≈ºyjesz:`,
        options: [`-size 0`, `-empty`, `-zero`, `-null`],
        answer: 0,
        [cite_start]explanation: `Wymaga parametru -size 0 (lub -empty, ale wyk≈Çady podajƒÖ -size)[cite: 1241].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 08 - DowiƒÖzania) ---
    {
        text: `DowiƒÖzanie twarde (hard link) wskazuje na:`,
        options: [`Nazwƒô pliku`, `≈öcie≈ºkƒô do pliku`, `Ten sam i-wƒôze≈Ç (i-node) co plik oryginalny`, `Kopiƒô pliku`],
        answer: 2,
        [cite_start]explanation: `Hard link to dodatkowa nazwa dla tego samego numeru i-wƒôz≈Ça[cite: 1308].`
    },
    {
        text: `Je≈õli usuniesz plik ≈∫r√≥d≈Çowy, na kt√≥ry wskazuje dowiƒÖzanie symboliczne (miƒôkkie):`,
        options: [`DowiƒÖzanie nadal dzia≈Ça i zawiera dane`, `DowiƒÖzanie staje siƒô martwe (wskazuje na nieistniejƒÖcy obiekt)`, `System automatycznie usuwa dowiƒÖzanie`, `DowiƒÖzanie zamienia siƒô w plik`],
        answer: 1,
        explanation: `DowiƒÖzanie symboliczne to tylko ≈õcie≈ºka. [cite_start]Je≈õli cel zniknie, link nie dzia≈Ça[cite: 1325].`
    },
    {
        text: `Kt√≥re polecenie tworzy dowiƒÖzanie symboliczne?`,
        options: [`ln plik link`, `ln -s plik link`, `link plik link`, `cp -l plik link`],
        answer: 1,
        [cite_start]explanation: `Opcja -s (symbolic) tworzy symlink[cite: 1326].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 11 - Regex) ---
    {
        text: `W wyra≈ºeniach regularnych znak '^' oznacza:`,
        options: [`Negacjƒô`, `PoczƒÖtek wiersza`, `Koniec wiersza`, `Powt√≥rzenie`],
        answer: 1,
        [cite_start]explanation: `Daszek (caret) ^ to kotwica poczƒÖtku wiersza[cite: 36].`
    },
    {
        text: `Znak '*' w wyra≈ºeniu regularnym (np. grep) oznacza:`,
        options: [`Dowolny ciƒÖg znak√≥w`, `Zero lub wiƒôcej wystƒÖpie≈Ñ znaku POPRZEDZAJƒÑCEGO`, `Jeden dowolny znak`, `Mno≈ºenie`],
        answer: 1,
        [cite_start]explanation: `W regex gwiazdka dotyczy krotno≈õci poprzedniego znaku (0 lub wiƒôcej)[cite: 35].`
    },
    {
        text: `Wzorzec grep 'A\{4\}' pasuje do:`,
        options: [`Czterech liter A z rzƒôdu (AAAA)`, `Czterech dowolnych znak√≥w`, `Litery A i cyfry 4`, `B≈ÇƒÖd sk≈Çadni`],
        answer: 0,
        [cite_start]explanation: `{n} okre≈õla dok≈ÇadnƒÖ liczbƒô powt√≥rze≈Ñ poprzedzajƒÖcego znaku[cite: 90].`
    },
    {
        text: `Polecenie 'grep -v' s≈Çu≈ºy do:`,
        options: [`Wypisania tylko pasujƒÖcych linii`, `Wypisania linii NIE zawierajƒÖcych wzorca`, `Liczenia linii`, `Ignorowania wielko≈õci liter`],
        answer: 1,
        [cite_start]explanation: `-v (invert match) wypisuje wszystko opr√≥cz linii pasujƒÖcych do wzorca[cite: 83].`
    },
    {
        text: `Edytor strumieniowy 'sed' przetwarza tekst:`,
        options: [`Interaktywnie (jak vim)`, `Wiersz po wierszu, automatycznie`, `Tylko pliki binarne`, `SortujƒÖc go`],
        answer: 1,
        [cite_start]explanation: `sed to edytor strumieniowy, czyta liniƒô, przetwarza jƒÖ i wypisuje[cite: 130].`
    },
    {
        text: `Komenda sed 's/stare/nowe/g' wykonuje:`,
        options: [`Usuniƒôcie s≈Çowa stare`, `Zamianƒô wszystkich wystƒÖpie≈Ñ 'stare' na 'nowe' w wierszu`, `Zamianƒô tylko pierwszego wystƒÖpienia`, `Wypisanie linii ze s≈Çowem stare`],
        answer: 1,
        [cite_start]explanation: `'s' to substytucja, 'g' (global) zamienia wszystkie wystƒÖpienia w linii[cite: 138].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 12 - Skrypty) ---
    {
        text: `Zmienna '$0' wewnƒÖtrz skryptu zawiera:`,
        options: [`Wynik ostatniego polecenia`, `Nazwƒô samego skryptu`, `Pierwszy parametr`, `PID procesu`],
        answer: 1,
        [cite_start]explanation: `$0 to nazwa uruchomionego skryptu[cite: 1369].`
    },
    {
        text: `Zmienna '$?' przechowuje:`,
        options: [`PID procesu`, `Liczbƒô argument√≥w`, `Kod powrotu (exit status) ostatniego polecenia`, `Nazwƒô u≈ºytkownika`],
        answer: 2,
        [cite_start]explanation: `$? informuje, czy ostatnie polecenie zako≈Ñczy≈Ço siƒô sukcesem (0) czy b≈Çƒôdem[cite: 1384].`
    },
    {
        text: `Instrukcja warunkowa 'if' w bashu musi byƒá zako≈Ñczona s≈Çowem:`,
        options: [`end`, `endif`, `fi`, `done`],
        answer: 2,
        [cite_start]explanation: `Blok if zamykamy s≈Çowem fi[cite: 1388].`
    },
    {
        text: `Konstrukcja 'case' w bashu ko≈Ñczy siƒô s≈Çowem:`,
        options: [`endcase`, `esac`, `done`, `break`],
        answer: 1,
        [cite_start]explanation: `Sk≈Çadnia case ... in ... esac[cite: 1394].`
    },
    {
        text: `Por√≥wnanie arytmetyczne 'r√≥wne' w poleceniu test ([ ... ]) to:`,
        options: [`==`, `=`, `-eq`, `eq`],
        answer: 2,
        explanation: `Do por√≥wna≈Ñ liczbowych u≈ºywamy -eq, -ne, -lt itp. [cite_start]Znaki = s≈Çu≈ºƒÖ do napis√≥w[cite: 1501].`
    },
    {
        text: `Pƒôtla 'while' wykonuje siƒô dop√≥ki:`,
        options: [`Warunek jest fa≈Çszywy`, `Warunek jest prawdziwy (zwraca 0)`, `U≈ºytkownik nie naci≈õnie Ctrl+C`, `Licznik nie osiƒÖgnie zera`],
        answer: 1,
        [cite_start]explanation: `while wykonuje pƒôtlƒô tak d≈Çugo, jak polecenie test zwraca prawdƒô (exit code 0)[cite: 1444].`
    },
    {
        text: `W warunku '[ "$a" = "$b" ]' spacje wok√≥≈Ç nawias√≥w i operatora sƒÖ:`,
        options: [`Opcjonalne`, `Wymagane`, `Zabronione`, `Zale≈ºne od wersji`],
        answer: 1,
        explanation: `Spacje sƒÖ kluczowe. [cite_start]'[' to polecenie 'test', musi byƒá oddzielone od argument√≥w[cite: 1418].`
    },
    {
        text: `Instrukcja 'shift' w skrypcie powoduje:`,
        options: [`Zako≈Ñczenie skryptu`, `Przesuniƒôcie parametr√≥w w lewo ($2 staje siƒô $1)`, `Przesuniƒôcie parametr√≥w w prawo`, `Zamianƒô zmiennych`],
        answer: 1,
        [cite_start]explanation: `shift usuwa $1 i przesuwa resztƒô: $2->$1, $3->$2 itd.[cite: 1385].`
    },

    // --- NOWE PYTANIA Z WYK≈ÅAD√ìW (PDF 13 - Pliki Startowe) ---
    {
        text: `Interaktywna pow≈Çoka logowania (login shell) wczytuje jako pierwszy plik:`,
        options: [`~/.bashrc`, `/etc/bashrc`, `/etc/profile`, `~/.profile`],
        answer: 2,
        [cite_start]explanation: `Kolejno≈õƒá startowa zaczyna siƒô od og√≥lnosystemowego /etc/profile[cite: 358].`
    },
    {
        text: `Plik '~/.bashrc' jest domy≈õlnie wykonywany przez:`,
        options: [`Tylko pow≈Çokƒô logowania`, `InteraktywnƒÖ pow≈Çokƒô (nielogowania)`, `Ka≈ºdy skrypt`, `Tylko roota`],
        answer: 1,
        [cite_start]explanation: `bashrc jest dedykowany dla interaktywnych pow≈Çok nielogowania (np. nowe okno terminala)[cite: 373].`
    },

    // --- R√ì≈ªNE DODATKOWE (Mieszane z wiedzy og√≥lnej wyk≈Çad√≥w) ---
    {
        text: `Jakim poleceniem sprawdzisz typ pliku (np. czy to tekstowy, czy binarny)?`,
        options: [`ls -l`, `file`, `type`, `cat`],
        answer: 1,
        explanation: `Polecenie 'file' analizuje nag≈Ç√≥wek pliku i okre≈õla jego typ.`
    },
    {
        text: `Symbol '~' (tylda) w ≈õcie≈ºce oznacza:`,
        options: [`Katalog g≈Ç√≥wny (root)`, `Katalog domowy u≈ºytkownika`, `Katalog tymczasowy`, `Poprzedni katalog`],
        answer: 1,
        explanation: `~ to skr√≥t do $HOME.`
    },
    {
        text: `Aby uruchomiƒá skrypt 'skrypt.sh' z bie≈ºƒÖcego katalogu, nale≈ºy wpisaƒá:`,
        options: [`skrypt.sh`, `./skrypt.sh`, `run skrypt.sh`, `/skrypt.sh`],
        answer: 1,
        explanation: `Je≈õli katalog bie≈ºƒÖcy nie jest w PATH (a nie powinien byƒá), trzeba podaƒá ≈õcie≈ºkƒô jawnƒÖ ./`
    },
    {
        text: `Polecenie 'pwd' to skr√≥t od:`,
        options: [`Print Working Directory`, `Password`, `Print Web Data`, `Process Work Daemon`],
        answer: 0,
        explanation: `Wy≈õwietla bie≈ºƒÖcƒÖ ≈õcie≈ºkƒô roboczƒÖ.`
    },
    {
        text: `Polecenie 'rmdir' usunie katalog:`,
        options: [`Ka≈ºdy`, `Tylko pusty`, `Tylko pe≈Çny`, `Tylko z uprawnieniami roota`],
        answer: 1,
        explanation: `rmdir dzia≈Ça tylko na pustych katalogach. Do pe≈Çnych u≈ºywa siƒô rm -r.`
    },
    {
        text: `Co robi skr√≥t Ctrl+D w terminalu?`,
        options: [`Przerywa proces (SIGINT)`, `Wysy≈Ça znak ko≈Ñca pliku (EOF) / wylogowuje`, `Zatrzymuje proces (SIGTSTP)`, `Czy≈õci ekran`],
        answer: 1,
        [cite_start]explanation: `Ctrl+D to sygna≈Ç EOF (End Of File), czƒôsto zamyka pow≈Çokƒô[cite: 196].`
    },
    {
        text: `Je≈õli plik ma prawa 'rwxr-xr-x', to grupa ma prawa:`,
        options: [`Pe≈Çne (rwx)`, `Odczyt i wykonanie (r-x)`, `Tylko odczyt`, `≈ªadne`],
        answer: 1,
        explanation: `≈örodkowa tr√≥jka to grupa: r-x (5).`
    },
    {
        text: `Kt√≥re polecenie wy≈õwietli 10 najwiƒôkszych plik√≥w w katalogu?`,
        code: `ls -l | sort -k 5 -nr | head -10`,
        options: [`Tak`, `Nie`],
        answer: 0,
        [cite_start]explanation: `Sortujemy po 5 kolumnie (rozmiar), numerycznie (-n), malejƒÖco (-r) i bierzemy g√≥rƒô (head)[cite: 1561].`
    },
    {
        text: `Co robi polecenie 'touch plik'?`,
        options: [`Tylko tworzy nowy pusty plik`, `Zmienia czas modyfikacji pliku (lub tworzy go, je≈õli nie istnieje)`, `Wy≈õwietla plik`, `Kasuje plik`],
        answer: 1,
        explanation: `G≈Ç√≥wnym celem touch jest aktualizacja timestamp√≥w.`
    },
    {
        text: `W potoku 'cmd1 | cmd2', standardowe wyj≈õcie cmd1 trafia do:`,
        options: [`Na ekran`, `Do pliku`, `Na standardowe wej≈õcie cmd2`, `Do null`],
        answer: 2,
        [cite_start]explanation: `To definicja dzia≈Çania pipe[cite: 258].`
    },
    {
        text: `Co oznacza zapis '2>&1'?`,
        options: [`Przekierowanie stdout do stderr`, `Przekierowanie stderr (2) na to samo miejsce co stdout (1)`, `Przekierowanie do pliku o nazwie 1`, `B≈ÇƒÖd sk≈Çadni`],
        answer: 1,
        explanation: `≈ÅƒÖczy strumie≈Ñ b≈Çƒôd√≥w ze strumieniem wyj≈õcia.`
    },
    {
        text: `Polecenie 'which ls':`,
        options: [`Uruchamia ls`, `Pokazuje ≈õcie≈ºkƒô do pliku wykonywalnego ls`, `Pokazuje manual ls`, `Szuka plik√≥w o nazwie ls`],
        answer: 1,
        [cite_start]explanation: `which pokazuje, kt√≥ry plik zostanie wykonany po wpisaniu komendy[cite: 1652].`
    },
    {
        text: `Shebang '#!/bin/bash' musi znajdowaƒá siƒô:`,
        options: [`W dowolnym miejscu skryptu`, `Na samym ko≈Ñcu`, `W pierwszej linii skryptu`, `W pliku konfiguracyjnym`],
        answer: 2,
        [cite_start]explanation: `JƒÖdro sprawdza pierwsze bajty pliku, by wiedzieƒá jakiego interpretera u≈ºyƒá[cite: 1360].`
    }
];

// Funkcja tasujƒÖca (Fisher-Yates Shuffle)
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

// Inicjalizacja
let currentIdx = 0;
let score = 0;
// Klonujemy i mieszamy pytania
let questions = [...questionsDatabase];
shuffleArray(questions);

const ui = {
    box: document.getElementById('quiz-box'),
    result: document.getElementById('result-box'),
    qText: document.getElementById('q-text'),
    qCode: document.getElementById('q-code'),
    opts: document.getElementById('options'),
    feedback: document.getElementById('feedback'),
    nextBtn: document.getElementById('next-btn'),
    count: document.getElementById('question-count'),
    scoreLive: document.getElementById('score-live'),
    progress: document.getElementById('progress-fill'),
    finalScore: document.getElementById('final-score'),
    scoreMsg: document.getElementById('score-msg')
};

function loadQuestion() {
    if (currentIdx >= questions.length) {
        finishQuiz();
        return;
    }

    const q = questions[currentIdx];
    
    // UI Update
    ui.count.innerText = `Pytanie ${currentIdx + 1} z ${questions.length}`;
    ui.scoreLive.innerText = `Punkty: ${score}`;
    ui.progress.style.width = `${((currentIdx) / questions.length) * 100}%`;
    
    ui.qText.innerText = q.text;
    
    // Obs≈Çuga bloku kodu (je≈õli istnieje w pytaniu)
    if (q.code) {
        ui.qCode.innerText = q.code;
        ui.qCode.style.display = 'block';
    } else {
        ui.qCode.style.display = 'none';
    }

    ui.opts.innerHTML = '';
    ui.feedback.style.display = 'none';
    ui.nextBtn.style.display = 'none';

    // Tworzenie przycisk√≥w odpowiedzi
    q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(idx, btn, q);
        ui.opts.appendChild(btn);
    });
}

function checkAnswer(selectedIdx, btn, q) {
    const allBtns = ui.opts.querySelectorAll('.btn');
    allBtns.forEach(b => b.disabled = true);

    if (selectedIdx === q.answer) {
        btn.classList.add('correct');
        score++;
        ui.feedback.innerHTML = `<strong>Dobrze!</strong><br>${q.explanation}`;
        ui.feedback.style.backgroundColor = '#d4edda';
        ui.feedback.style.color = '#155724';
        ui.feedback.style.border = '1px solid #c3e6cb';
    } else {
        btn.classList.add('wrong');
        // Pod≈õwietl poprawnƒÖ
        allBtns[q.answer].classList.add('correct');
        ui.feedback.innerHTML = `<strong>≈πle.</strong><br>${q.explanation}`;
        ui.feedback.style.backgroundColor = '#f8d7da';
        ui.feedback.style.color = '#721c24';
        ui.feedback.style.border = '1px solid #f5c6cb';
    }
    
    ui.feedback.style.display = 'block';
    ui.nextBtn.style.display = 'block';
    
    // Przewi≈Ñ do przycisku dalej (mobile friendly)
    ui.nextBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

function nextQuestion() {
    currentIdx++;
    loadQuestion();
}

function finishQuiz() {
    ui.box.style.display = 'none';
    ui.result.style.display = 'block';
    ui.finalScore.innerText = `${score} / ${questions.length}`;
    
    const percentage = (score / questions.length) * 100;
    let msg = "";
    if (percentage === 100) msg = "Perfekcyjnie! Jeste≈õ gotowy na 5.0! üêßüéì";
    else if (percentage >= 80) msg = "≈öwietny wynik! Dobrze opanowa≈Çe≈õ materia≈Ç.";
    else if (percentage >= 50) msg = "Nie≈∫le, ale warto powt√≥rzyƒá trudniejsze pytania.";
    else msg = "Musisz jeszcze trochƒô poƒáwiczyƒá. Nie poddawaj siƒô!";
    
    ui.scoreMsg.innerText = msg;
}

// Start
loadQuestion();
</script>

</body>
</html>
