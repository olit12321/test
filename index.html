<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wielki Egzamin Linux (150+ Pyta≈Ñ)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; color: #333; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        .quiz-container { background: white; padding: 40px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); max-width: 800px; width: 100%; }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 10px; }
        .status-bar { display: flex; justify-content: space-between; margin-bottom: 20px; color: #7f8c8d; font-size: 0.9em; font-weight: bold; }
        .progress-bar { width: 100%; height: 10px; background-color: #e0e0e0; border-radius: 5px; margin-bottom: 25px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: #3498db; width: 0%; transition: width 0.3s ease; }
        .question-text { font-size: 1.25em; font-weight: 600; margin-bottom: 20px; line-height: 1.4; }
        
        .code-block { 
            background: #282c34; 
            color: #abb2bf; 
            padding: 15px; 
            border-radius: 6px; 
            font-family: 'Consolas', 'Monaco', monospace; 
            margin: 15px 0; 
            white-space: pre-wrap; 
            overflow-x: auto; 
            font-size: 0.95em; 
            border-left: 5px solid #e67e22; 
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
        }

        .btn { width: 100%; padding: 12px 15px; border: 2px solid #e1e4e8; background: white; cursor: pointer; border-radius: 8px; text-align: left; transition: all 0.2s; font-size: 1rem; margin-bottom: 10px; }
        .btn:hover:not([disabled]) { background-color: #f8f9fa; border-color: #3498db; }
        .btn.correct { background-color: #d4edda; border-color: #28a745; color: #155724; }
        .btn.wrong { background-color: #f8d7da; border-color: #dc3545; color: #721c24; }
        .feedback { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; line-height: 1.5; font-size: 0.95em; }
        .next-btn { background-color: #2980b9; color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer; float: right; display: none; margin-top: 20px; font-size: 1em; font-weight: bold; }
        .next-btn:hover { background-color: #1abc9c; }
        .result-view { text-align: center; display: none; }
        .final-score { font-size: 4em; font-weight: bold; color: #2c3e50; margin: 20px 0; }
        .error-msg { color: red; text-align: center; font-weight: bold; display: none; }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-box">
    <h1>Egzamin Linux - Wielka Baza</h1>
    
    <div id="error-display" class="error-msg"></div>

    <div class="status-bar">
        <span id="question-count">≈Åadowanie bazy pyta≈Ñ...</span>
        <span id="score-live">Punkty: 0</span>
    </div>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>

    <div class="question-text" id="q-text"></div>
    <div id="q-code" class="code-block" style="display:none;"></div>
    <div id="options"></div>
    
    <div id="feedback" class="feedback"></div>
    <button id="next-btn" class="next-btn" onclick="nextQuestion()">Nastƒôpne pytanie ‚ûî</button>
</div>

<div class="quiz-container result-view" id="result-box">
    <h1>Koniec egzaminu!</h1>
    <p>Tw√≥j wynik ko≈Ñcowy:</p>
    <div class="final-score" id="final-score">0/0</div>
    <p id="score-msg" style="font-size: 1.2em; color: #555;"></p>
    <button class="btn" onclick="location.reload()" style="text-align: center; background-color: #3498db; color: white; border: none; margin-top: 20px;">Spr√≥buj ponownie (Losuj nowe)</button>
</div>

<script>
// --- BAZA DANYCH PYTA≈É ---
const questionsDatabase = [
    // 1. SYSTEM PLIK√ìW I PODSTAWY
    { text: `DefiniujƒÖc partycjƒô 'swap' jako punkt montowania wska≈ºesz:`, options: [`katalog /swap`, `katalog /mnt/swap`, `plik /memory/swap`, `Przy partycji swap nie wskazuje siƒô punktu montowania`], answer: 3, explanation: `Swap jest u≈ºywany bezpo≈õrednio przez jƒÖdro, nie jest montowany w drzewie katalog√≥w.` },
    { text: `Po stworzeniu nowego katalogu poleceniem 'mkdir A', nastƒôpujƒÖce wpisy bƒôdƒÖ posiada≈Çy ten sam numer i-node'u:`, options: [`A oraz ./A/`, `A oraz A/.`, `A/ oraz /A/.`, `.. oraz A`], answer: 1, explanation: `Wpis 'A' w katalogu nadrzƒôdnym i '.' wewnƒÖtrz katalogu A to ten sam i-node.` },
    { text: `Kt√≥re polecenie wypisze bie≈ºƒÖcƒÖ ≈õcie≈ºkƒô roboczƒÖ?`, options: [`pwd`, `cwd`, `path`, `where`], answer: 0, explanation: `pwd = print working directory.` },
    { text: `Symbol '~' (tylda) oznacza:`, options: [`Katalog g≈Ç√≥wny (root)`, `Katalog domowy u≈ºytkownika`, `Poprzedni katalog`, `Katalog tymczasowy`], answer: 1, explanation: `~ to skr√≥t do $HOME.` },
    { text: `Polecenie 'cd -' powoduje:`, options: [`Przej≈õcie do katalogu domowego`, `Przej≈õcie do poprzedniego katalogu (OLDPWD)`, `Przej≈õcie o jeden poziom wy≈ºej`, `B≈ÇƒÖd`], answer: 1, explanation: `cd - wraca do poprzednio odwiedzonego katalogu.` },
    { text: `Aby wy≈õwietliƒá ukryte pliki poleceniem ls, u≈ºyjesz flagi:`, options: [`-l`, `-a`, `-h`, `-R`], answer: 1, explanation: `-a (all) pokazuje pliki zaczynajƒÖce siƒô od kropki.` },
    { text: `Polecenie 'rm -rf /' (uruchomione bez zabezpiecze≈Ñ) spowoduje:`, options: [`Skasowanie ca≈Çego systemu plik√≥w`, `Skasowanie tylko katalogu domowego`, `Wy≈õwietlenie b≈Çƒôdu`, `Nic`], answer: 0, explanation: `-r rekursywnie, -f force. Kasuje wszystko od roota.` },
    { text: `Polecenie 'touch plik' je≈õli plik ju≈º istnieje:`, options: [`Skasuje jego zawarto≈õƒá`, `Zmieni czas jego ostatniej modyfikacji/dostƒôpu`, `Stworzy kopiƒô`, `Zg≈Çosi b≈ÇƒÖd`], answer: 1, explanation: `G≈Ç√≥wnym celem touch jest aktualizacja timestamp√≥w.` },
    { text: `Katalogiem przechowujƒÖcym pliki konfiguracyjne systemu jest zazwyczaj:`, options: [`/bin`, `/etc`, `/dev`, `/var`], answer: 1, explanation: `/etc zawiera konfiguracjƒô.` },
    { text: `Katalog /dev zawiera:`, options: [`Pliki urzƒÖdze≈Ñ`, `Pliki tymczasowe`, `Pliki u≈ºytkownik√≥w`, `Logi systemowe`], answer: 0, explanation: `/dev to devices.` },
    { text: `Aby usunƒÖƒá pusty katalog, u≈ºyjesz:`, options: [`rm`, `rmdir`, `del`, `erase`], answer: 1, explanation: `rmdir usuwa tylko puste katalogi.` },

    // 2. PRAWA DOSTƒòPU
    { text: `Prawa 640 oznaczajƒÖ:`, options: [`rw- r-- ---`, `rw- rw- ---`, `r-- r-- ---`, `rwx r-x ---`], answer: 0, explanation: `6 (4+2=rw), 4 (r), 0 (---).` },
    { text: `Polecenie 'chmod 755 plik' daje prawa zapisu:`, options: [`Tylko w≈Ça≈õcicielowi`, `W≈Ça≈õcicielowi i grupie`, `Wszystkim`, `Nikomu`], answer: 0, explanation: `7 (rwx) dla User, 5 (r-x) dla Group, 5 (r-x) dla Others. Tylko User ma 'w'.` },
    { text: `Je≈õli 'umask' wynosi 002, to domy≈õlne uprawnienia dla nowego pliku to:`, options: [`666`, `664`, `775`, `644`], answer: 1, explanation: `666 - 002 = 664 (rw-rw-r--).` },
    { text: `Co oznacza litera 's' w prawach w≈Ça≈õciciela (rwsr-xr-x)?`, options: [`Sticky Bit`, `SGID`, `SUID`, `System file`], answer: 2, explanation: `SUID (Set User ID) uruchamia program z prawami w≈Ça≈õciciela pliku.` },
    { text: `Sticky bit na katalogu /tmp s≈Çu≈ºy do:`, options: [`Zablokowania zapisu`, `Zablokowania usuwania plik√≥w przez osoby niebƒôdƒÖce ich w≈Ça≈õcicielami`, `Automatycznego czyszczenia`, `Szyfrowania`], answer: 1, explanation: `Chroni pliki przed usuniƒôciem przez innych u≈ºytkownik√≥w.` },
    { text: `Aby zmieniƒá w≈Ça≈õciciela pliku, u≈ºyjesz polecenia:`, options: [`chmod`, `chown`, `chgrp`, `passwd`], answer: 1, explanation: `chown = change owner.` },
    { text: `Prawo 'x' (execute) dla katalogu pozwala na:`, options: [`Wylistowanie plik√≥w`, `Wej≈õcie do katalogu`, `Zmianƒô nazwy`, `Usuniƒôcie katalogu`], answer: 1, explanation: `x na katalogu to prawo "search" - wej≈õcia do ≈õrodka.` },
    { text: `Prawa 'r-x' numerycznie to:`, options: [`3`, `4`, `5`, `6`], answer: 2, explanation: `r=4, x=1 => 4+1=5.` },
    
    // 3. PRZEKIEROWANIA I STRUMIENIE
    { text: `Standardowe wyj≈õcie b≈Çƒôd√≥w (stderr) ma deskryptor:`, options: [`0`, `1`, `2`, `3`], answer: 2, explanation: `0=stdin, 1=stdout, 2=stderr.` },
    { text: `Operator '>>' powoduje:`, options: [`Nadpisanie pliku`, `Dopisanie do pliku`, `Przekierowanie wej≈õcia`, `B≈ÇƒÖd`], answer: 1, explanation: `>> append (dopisz).` },
    { text: `Zapis '2>&1' oznacza:`, options: [`Przekierowanie stderr na stdout`, `Przekierowanie stdout na stderr`, `Wys≈Çanie do pliku '1'`, `B≈ÇƒÖd sk≈Çadni`], answer: 0, explanation: `≈ÅƒÖczy strumie≈Ñ b≈Çƒôd√≥w (2) ze strumieniem wyj≈õcia (1).` },
    { text: `Co robi polecenie 'cat > a.txt'?`, options: [`Wy≈õwietla a.txt`, `Tworzy a.txt i czeka na wpisanie tre≈õci`, `Dopisuje do a.txt`, `Kasuje a.txt`], answer: 1, explanation: `Przekierowuje wej≈õcie z klawiatury do pliku.` },
    { text: `Konstrukcja '<< EOF' to:`, options: [`Here Document`, `Pipe`, `Append`, `Link`], answer: 0, explanation: `Pozwala podaƒá blok tekstu na wej≈õcie polecenia.` },
    { text: `Polecenie 'cmd1 | cmd2' robi:`, options: [`Uruchamia cmd1 i cmd2 r√≥wnolegle`, `Wyj≈õcie cmd1 przekazuje na wej≈õcie cmd2`, `Przekazuje b≈Çƒôdy cmd1 do cmd2`, `Nic`], answer: 1, explanation: `To jest 'pipe' (potok).` },
    { text: `Aby wyciszyƒá b≈Çƒôdy polecenia, przekierujesz je do:`, options: [`/dev/null`, `/dev/zero`, `/tmp`, `console`], answer: 0, explanation: `/dev/null to czarna dziura systemu.` },
    { text: `Skr√≥t Ctrl+D oznacza:`, options: [`Koniec pliku (EOF)`, `Przerwij proces`, `Zawie≈õ proces`, `Wyczy≈õƒá ekran`], answer: 0, explanation: `Wysy≈Ça sygna≈Ç End Of File.` },

    // 4. FILTRY (cat, grep, sort, cut, tr...)
    { text: `Polecenie 'sort -n' sortuje:`, options: [`Alfabetycznie`, `Numerycznie`, `Losowo`, `Odwrotnie`], answer: 1, explanation: `-n = numeric sort.` },
    { text: `Aby usunƒÖƒá powtarzajƒÖce siƒô linie (z posortowanego wej≈õcia), u≈ºyjesz:`, options: [`uniq`, `sort -u`, `cut`, `sed`], answer: 0, explanation: `uniq usuwa sƒÖsiadujƒÖce duplikaty.` },
    { text: `Parametr '-c' w 'uniq' powoduje:`, options: [`Zliczenie wystƒÖpie≈Ñ`, `Tylko unikalne`, `Tylko duplikaty`, `Ignorowanie wielko≈õci liter`], answer: 0, explanation: `-c = count.` },
    { text: `Polecenie 'cut -d: -f1' wycina:`, options: [`Pierwszy znak`, `PierwszƒÖ kolumnƒô (separator :)`, `Pierwszy wiersz`, `OstatniƒÖ kolumnƒô`], answer: 1, explanation: `-d delimiter, -f field.` },
    { text: `Aby zamieniƒá ma≈Çe litery na du≈ºe, u≈ºyjesz:`, options: [`tr a-z A-Z`, `grep upper`, `sed upper`, `sort -A`], answer: 0, explanation: `tr (translate) s≈Çu≈ºy do zamiany znak√≥w.` },
    { text: `Polecenie 'head -n 5' wy≈õwietli:`, options: [`5 ostatnich linii`, `5 pierwszych linii`, `Liniƒô nr 5`, `Wszystko poza 5 liniami`], answer: 1, explanation: `head = g√≥ra pliku.` },
    { text: `Polecenie 'tail -f' s≈Çu≈ºy do:`, options: [`Wy≈õwietlenia ko≈Ñca pliku i ≈õledzenia zmian`, `Wy≈õwietlenia poczƒÖtku`, `Odwr√≥cenia pliku`, `Sortowania`], answer: 0, explanation: `-f = follow.` },
    { text: `Komenda 'wc -l' liczy:`, options: [`S≈Çowa`, `Znaki`, `Linie`, `Bajty`], answer: 2, explanation: `-l = lines.` },
    { text: `Polecenie 'tee':`, options: [`Tylko zapisuje do pliku`, `Wy≈õwietla na ekran i zapisuje do pliku`, `Tylko wy≈õwietla`, `Filtruje b≈Çƒôdy`], answer: 1, explanation: `Rozga≈Çƒôzia strumie≈Ñ (litera T).` },
    { text: `Polecenie 'grep -v' oznacza:`, options: [`Szukaj wzorca`, `Szukaj linii NIE pasujƒÖcych do wzorca`, `Szukaj rekursywnie`, `Szukaj bez wzglƒôdu na wielko≈õƒá liter`], answer: 1, explanation: `-v = invert match.` },
    { text: `Aby policzyƒá ile plik√≥w jest w katalogu, mo≈ºna u≈ºyƒá:`, options: [`ls | wc -l`, `count *`, `dir /count`, `ls -c`], answer: 0, explanation: `ls wypisuje pliki w liniach, wc -l je liczy.` },

    // 5. REGEX I WZORCE
    { text: `W regex znak '^' oznacza:`, options: [`Koniec linii`, `PoczƒÖtek linii`, `Negacjƒô`, `Jeden znak`], answer: 1, explanation: `^ to kotwica poczƒÖtku wiersza.` },
    { text: `W regex znak '$' oznacza:`, options: [`ZmiennƒÖ`, `Koniec linii`, `PoczƒÖtek linii`, `Dolar`], answer: 1, explanation: `$ to kotwica ko≈Ñca wiersza.` },
    { text: `W regex kropka '.' oznacza:`, options: [`Znak kropki`, `Dowolny jeden znak`, `Zero lub wiƒôcej znak√≥w`, `Spacjƒô`], answer: 1, explanation: `Kropka to dowolny znak.` },
    { text: `W regex 'a*' oznacza:`, options: [`S≈Çowo zaczynajƒÖce siƒô na a`, `Zero lub wiƒôcej liter 'a'`, `Plik o nazwie a`, `JednƒÖ literƒô a`], answer: 1, explanation: `Gwiazdka w regex dotyczy krotno≈õci (0 lub wiƒôcej) POPRZEDNIEGO znaku.` },
    { text: `W globbingu (shell) '?' oznacza:`, options: [`Dowolny jeden znak`, `Zero lub jeden znak`, `Koniec linii`, `Pomoc`], answer: 0, explanation: `W pow≈Çoce ? zastƒôpuje dok≈Çadnie jeden znak.` },
    { text: `Wzorzec '[!0-9]' pasuje do:`, options: [`Cyfry`, `Znaku niebƒôdƒÖcego cyfrƒÖ`, `Wykrzyknika i cyfry`, `B≈ÇƒÖd`], answer: 1, explanation: `! w nawiasach kwadratowych neguje zakres.` },
    { text: `Polecenie sed 's/a/b/g' robi:`, options: [`Zamienia pierwsze a na b`, `Zamienia wszystkie a na b w linii`, `Usuwa a`, `Wstawia b przed a`], answer: 1, explanation: `g = global.` },
    { text: `Aby usunƒÖƒá 2 liniƒô z pliku u≈ºywajƒÖc sed:`, options: [`sed '2d'`, `sed -rm 2`, `sed 'd2'`, `cut 2`], answer: 0, explanation: `'2d' to komenda delete dla linii 2.` },
    { text: `Grep: Flaga '-i' powoduje:`, options: [`Ignorowanie wielko≈õci liter`, `Odwr√≥cenie dopasowania`, `Liczenie wystƒÖpie≈Ñ`, `Pokazanie numeru linii`], answer: 0, explanation: `-i = ignore case.` },

    // 6. FIND I LOCATE
    { text: `Polecenie 'find . -name "*.txt"' szuka:`, options: [`W katalogu g≈Ç√≥wnym`, `W katalogu bie≈ºƒÖcym i podkatalogach`, `Tylko w bie≈ºƒÖcym (bez podkatalog√≥w)`, `W bazie danych`], answer: 1, explanation: `find szuka rekursywnie.` },
    { text: `Parametr '-mtime -7' w find oznacza pliki zmodyfikowane:`, options: [`Dok≈Çadnie 7 dni temu`, `Mniej ni≈º 7 dni temu`, `Wiƒôcej ni≈º 7 dni temu`, `W przysz≈Ço≈õci`], answer: 1, explanation: `Minus oznacza "mniej ni≈º".` },
    { text: `R√≥≈ºnica miƒôdzy '-name' a '-iname' w find:`, options: [`Brak`, `-iname ignoruje wielko≈õƒá liter`, `-iname szuka i-nod√≥w`, `-name jest szybsze`], answer: 1, explanation: `-iname = case insensitive name.` },
    { text: `Parametr '-exec rm {} \;' w find:`, options: [`Pyta o zgodƒô przed usuniƒôciem`, `Usuwa znalezione pliki bez pytania`, `Wy≈õwietla co by usunƒÖ≈Ç`, `B≈ÇƒÖd`], answer: 1, explanation: `-exec wykonuje polecenie na ka≈ºdym pliku.` },
    { text: `Polecenie 'locate' korzysta z:`, options: [`Przeszukiwania dysku na ≈ºywo`, `Bazy danych (indeksu)`, `Internetu`, `Pamiƒôci RAM`], answer: 1, explanation: `Jest szybsze, ale wymaga updatedb.` },
    { text: `Aby znale≈∫ƒá pliki puste, u≈ºyjesz flagi find:`, options: [`-empty`, `-null`, `-zero`, `-void`], answer: 0, explanation: `-empty (lub -size 0).` },
    { text: `Aby znale≈∫ƒá tylko katalogi, u≈ºyjesz flagi:`, options: [`-type d`, `-type f`, `-dir`, `-cat`], answer: 0, explanation: `-type d (directory).` },

    // 7. ZMIENNE I ≈öRODOWISKO
    { text: `Aby zmienna by≈Ça widoczna w procesach potomnych, trzeba u≈ºyƒá:`, options: [`set`, `define`, `export`, `global`], answer: 2, explanation: `export przenosi zmiennƒÖ do ≈õrodowiska.` },
    { text: `Zmienna $PATH zawiera:`, options: [`≈öcie≈ºkƒô do pliku`, `Listƒô katalog√≥w z plikami wykonywalnymi`, `Has≈Ço u≈ºytkownika`, `Historiƒô`], answer: 1, explanation: `To lista ≈õcie≈ºek przeszukiwania.` },
    { text: `Polecenie 'env' lub 'printenv' wy≈õwietla:`, options: [`Wszystkie zmienne (lokalne i export)`, `Tylko zmienne ≈õrodowiskowe (exportowane)`, `Aliasy`, `Funkcje`], answer: 1, explanation: `env pokazuje tylko environment variables.` },
    { text: `Aby usunƒÖƒá zmiennƒÖ, u≈ºyjesz:`, options: [`del`, `unset`, `remove`, `clear`], answer: 1, explanation: `unset variable.` },
    { text: `Zmienna $? przechowuje:`, options: [`PID procesu`, `Kod powrotu ostatniego polecenia`, `Liczbƒô argument√≥w`, `Nazwƒô skryptu`], answer: 1, explanation: `0 = sukces, >0 = b≈ÇƒÖd.` },
    { text: `Zmienna $$ przechowuje:`, options: [`PID bie≈ºƒÖcej pow≈Çoki`, `PID ostatniego procesu w tle`, `Wynik dodawania`, `ZmiennƒÖ PATH`], answer: 0, explanation: `$$ = Process ID.` },
    { text: `Co wypisze: A=1; bash; echo $A (je≈õli nie by≈Ço export)?`, options: [`1`, `PustƒÖ liniƒô`, `B≈ÇƒÖd`, `bash`], answer: 1, explanation: `Bez exportu podpow≈Çoka (bash) nie widzi A. (Uwaga: pytanie dotyczy echa w rodzicu czy dziecku? Zazwyczaj w takich pytaniach chodzi o to, ≈ºe w nowym bashu zmiennej nie ma, lub po powrocie zmiany znikajƒÖ. Tu zak≈Çadamy brak widoczno≈õci).` },
    { text: `Zmienna $USER przechowuje:`, options: [`Katalog domowy`, `Nazwƒô zalogowanego u≈ºytkownika`, `Has≈Ço`, `Grupƒô`], answer: 1, explanation: `Nazwa u≈ºytkownika.` },

    // 8. SKRYPTY I BASH
    { text: `Pierwsza linia skryptu (shebang) wyglƒÖda tak:`, options: [`//bin/bash`, `#! /bin/bash`, `rem /bin/bash`, `echo /bin/bash`], answer: 1, explanation: `Zaczyna siƒô od #!` },
    { text: `Zmienna $1 w skrypcie to:`, options: [`Nazwa skryptu`, `Pierwszy argument`, `Liczba argument√≥w`, `Wszystkie argumenty`], answer: 1, explanation: `$1 to pierwszy parametr.` },
    { text: `Zmienna $# w skrypcie to:`, options: [`Numer procesu`, `Liczba argument√≥w`, `Nazwa skryptu`, `Komentarz`], answer: 1, explanation: `Licznik argument√≥w.` },
    { text: `Instrukcja 'shift' powoduje:`, options: [`Przesuniƒôcie parametr√≥w w lewo ($2->$1)`, `Zako≈Ñczenie skryptu`, `Pauzƒô`, `Przesuniƒôcie bitowe`], answer: 0, explanation: `Usuwa $1 i przesuwa resztƒô.` },
    { text: `Por√≥wnanie liczb w 'test' ([ ... ]) u≈ºywa operator√≥w:`, options: [`==, !=`, `-eq, -lt`, `eq, lt`, `=, <>`], answer: 1, explanation: `-eq (equal), -lt (less than) itd.` },
    { text: `Por√≥wnanie ciƒÖg√≥w znak√≥w u≈ºywa:`, options: [`-eq`, `=`, `-is`, `== (w bashu)`], answer: 1, explanation: `Standardowo = lub !=. (w bashu == te≈º dzia≈Ça).` },
    { text: `Pƒôtla 'while' dzia≈Ça dop√≥ki:`, options: [`Warunek zwraca 0 (prawdƒô)`, `Warunek zwraca 1 (fa≈Çsz)`, `Zawsze`, `Licznik > 0`], answer: 0, explanation: `W Unixie 0 oznacza sukces (true).` },
    { text: `Instrukcja ko≈ÑczƒÖca blok 'if' to:`, options: [`end`, `endif`, `fi`, `done`], answer: 2, explanation: `if ... fi.` },
    { text: `Instrukcja ko≈ÑczƒÖca blok 'case' to:`, options: [`endcase`, `esac`, `break`, `done`], answer: 1, explanation: `case ... esac.` },
    { text: `Aby wykonaƒá operacjƒô matematycznƒÖ w bashu:`, options: [`A=1+1`, `A=$((1+1))`, `A=calc(1+1)`, `A="1+1"`], answer: 1, explanation: `$((...)) s≈Çu≈ºy do arytmetyki.` },
    
    // 9. PLIKI STARTOWE
    { text: `Interaktywna pow≈Çoka logowania czyta najpierw:`, options: [`~/.bashrc`, `/etc/profile`, `~/.profile`, `/etc/bashrc`], answer: 1, explanation: `/etc/profile jest pierwszy dla login shell.` },
    { text: `Plik ~/.bashrc jest czytany przez:`, options: [`Pow≈Çoki nielogowania (np. nowe terminale)`, `Tylko roota`, `Skrypty`, `System przy starcie`], answer: 0, explanation: `Dedykowany dla interaktywnych shelli nielogowania.` },
    { text: `Zmienna BASH_ENV jest u≈ºywana przez:`, options: [`Pow≈Çoki nieinteraktywne (skrypty)`, `Logowanie`, `SSH`, `Cron`], answer: 0, explanation: `Wskazuje plik startowy dla skrypt√≥w.` },
    
    // 10. DOWIƒÑZANIA
    { text: `DowiƒÖzanie twarde (hard link) wskazuje na:`, options: [`≈öcie≈ºkƒô`, `Nazwƒô pliku`, `Ten sam i-node`, `Kopiƒô pliku`], answer: 2, explanation: `To inna nazwa tego samego fizycznego pliku.` },
    { text: `Usuniƒôcie orygina≈Çu przy dowiƒÖzaniu symbolicznym (soft link) powoduje:`, options: [`Usuniƒôcie linku`, `Link staje siƒô martwy (broken)`, `Kopiowanie danych do linku`, `Nic`], answer: 1, explanation: `Symlink wskazuje na nazwƒô. Brak nazwy = b≈ÇƒÖd.` },
    { text: `DowiƒÖzania twarde mo≈ºna tworzyƒá:`, options: [`Miƒôdzy partycjami`, `Tylko w obrƒôbie tej samej partycji`, `Dla katalog√≥w (zazwyczaj)`, `W internecie`], answer: 1, explanation: `I-nody sƒÖ unikalne tylko w obrƒôbie partycji.` },
    { text: `Polecenie 'ln -s' tworzy:`, options: [`Hard link`, `Soft link (symboliczny)`, `Skr√≥t Windows`, `Kopiƒô`], answer: 1, explanation: `-s = symbolic.` },
    { text: `Licznik dowiƒÖza≈Ñ (link count) pliku po utworzeniu hard linka:`, options: [`Maleje`, `Ro≈õnie o 1`, `Nie zmienia siƒô`, `Wynosi 0`], answer: 1, explanation: `Ka≈ºdy hard link zwiƒôksza licznik w i-nodzie.` },

    // 11. ZAAWANSOWANE PYTANIA (KOLOKWIUM STYLE)
    { text: `Co wypisze: echo a #echo b`, options: [`a #echo b`, `a`, `a b`, `b≈ÇƒÖd`], answer: 1, explanation: `# to komentarz, reszta linii jest ignorowana.` },
    { text: `Co wypisze: A=1; export A; bash; echo $A (wewnƒÖtrz nowego basha)`, options: [`1`, `PustƒÖ liniƒô`, `B≈ÇƒÖd`, `A`], answer: 0, explanation: `Dziƒôki export zmienna przechodzi do dziecka.` },
    { text: `Co wypisze: cd /tmp; pwd=abc; echo $pwd`, options: [`/tmp`, `abc`, `b≈ÇƒÖd`, `nic`], answer: 1, explanation: `pwd jako zmienna tekstowa przechowuje 'abc'. Komenda pwd to co innego.` },
    { text: `Co robi polecenie 'whereis ls'?`, options: [`Uruchamia ls`, `Pokazuje lokalizacjƒô binarki, ≈∫r√≥de≈Ç i man`, `Szuka ls w domowym`, `To samo co which`], answer: 1, explanation: `whereis szuka szerszej gamy plik√≥w ni≈º which.` },
    { text: `Co robi 'cat plik1 plik2 > plik3'?`, options: [`≈ÅƒÖczy plik1 i plik2 w plik3`, `Kopiuje tylko plik1`, `B≈ÇƒÖd`, `Por√≥wnuje pliki`], answer: 0, explanation: `Konkatenacja (≈ÇƒÖczenie).` },
    { text: `Polecenie 'ps' s≈Çu≈ºy do:`, options: [`Zmiany has≈Ça`, `Wy≈õwietlania proces√≥w`, `Drukowania`, `Szukania plik√≥w`], answer: 1, explanation: `Process Status.` },
    { text: `Polecenie 'kill -9 PID':`, options: [`≈Åagodnie prosi o zamkniƒôcie`, `Wymusza natychmiastowe zabicie procesu (SIGKILL)`, `Zatrzymuje proces`, `Restartuje proces`], answer: 1, explanation: `-9 to sygna≈Ç kt√≥rego nie da siƒô zablokowaƒá.` },
    { text: `Polecenie 'alias ll="ls -l"':`, options: [`Tworzy skr√≥t polecenia`, `Tworzy zmiennƒÖ`, `Tworzy plik`, `Tworzy link`], answer: 0, explanation: `Definiuje alias.` },
    { text: `Jaki znak wiersza polece≈Ñ pozwala uruchomiƒá proces w tle?`, options: [`&`, `*`, `?`, `$`], answer: 0, explanation: `Np. 'sleep 100 &'.` },
    { text: `Co robi polecenie 'history'?`, options: [`Pokazuje historiƒô logowa≈Ñ`, `Pokazuje historiƒô wpisanych komend`, `Pokazuje historiƒô plik√≥w`, `Kasuje system`], answer: 1, explanation: `Wy≈õwietla listƒô ostatnich polece≈Ñ.` },

    // 12. WIƒòCEJ FILTR√ìW I KOLEJNE FLAGI
    { text: `Aby wylistowaƒá pliki posortowane wg czasu modyfikacji (najnowsze na dole), u≈ºyjesz ls z flagƒÖ:`, options: [`-t`, `-S`, `-X`, `-r`], answer: 0, explanation: `-t sortuje po czasie (najnowsze na g√≥rze), -tr odwraca (najnowsze na dole). Pytanie o sortowanie czasem to -t.` },
    { text: `Aby wylistowaƒá pliki w odwrotnej kolejno≈õci, u≈ºyjesz flagi ls:`, options: [`-r`, `-R`, `-a`, `-l`], answer: 0, explanation: `-r = reverse.` },
    { text: `Aby wylistowaƒá katalogi rekursywnie, u≈ºyjesz flagi ls:`, options: [`-r`, `-R`, `-a`, `-d`], answer: 1, explanation: `-R = Recursive.` },
    { text: `Polecenie 'paste' s≈Çu≈ºy do:`, options: [`Wklejania tekstu`, `≈ÅƒÖczenia plik√≥w wierszami (kolumnami)`, `Kopiowania plik√≥w`, `Wycinania`], answer: 1, explanation: `≈ÅƒÖczy linie dw√≥ch plik√≥w obok siebie.` },
    { text: `Domy≈õlny separator w poleceniu 'paste' to:`, options: [`Spacja`, `Tabulator`, `Przecinek`, `Dwukropek`], answer: 1, explanation: `TAB.` },
    { text: `Polecenie 'nl' robi to samo co:`, options: [`cat -n`, `ls -l`, `sort -n`, `wc -l`], answer: 0, explanation: `nl = number lines.` },
    { text: `Komenda 'strings' s≈Çu≈ºy do:`, options: [`WyciƒÖgania napis√≥w z plik√≥w binarnych`, `≈ÅƒÖczenia string√≥w`, `Zmiennych tekstowych`, `Szukania plik√≥w`], answer: 0, explanation: `Przydatne do analizy binarek.` },
    { text: `Co robi 'ls -d */'?`, options: [`Listuje tylko katalogi`, `Listuje pliki wykonywalne`, `Listuje pliki ukryte`, `B≈ÇƒÖd`], answer: 0, explanation: `-d pokazuje katalog sam w sobie, a nie jego zawarto≈õƒá.` },
    
    // 13. EXTRA SCENARIUSZE SKRYPTOWE
    { text: `Co wypisze skrypt: x=5; if [ $x -gt 3 ]; then echo TAK; else echo NIE; fi`, options: [`TAK`, `NIE`, `B≈ÇƒÖd`, `Nic`], answer: 0, explanation: `5 > 3.` },
    { text: `Co wypisze: for i in 1 2 3; do echo -n $i; done`, options: [`123`, `1 2 3`, `1\n2\n3`, `321`], answer: 0, explanation: `echo -n nie stawia nowej linii.` },
    { text: `Aby sprawdziƒá czy plik istnieje w skrypcie, u≈ºyjesz testu:`, options: [`-e plik`, `-f plik`, `-d plik`, `-x plik`], answer: 0, explanation: `-e (exists). -f sprawdza czy to plik regularny.` },
    { text: `Aby sprawdziƒá czy zmienna jest pusta:`, options: [`-z $VAR`, `-n $VAR`, `-e $VAR`, `-f $VAR`], answer: 0, explanation: `-z (zero length).` },
    { text: `Co oznacza zapis $(( 5 % 2 ))?`, options: [`Dzielenie`, `Reszta z dzielenia (modulo)`, `Procent`, `B≈ÇƒÖd`], answer: 1, explanation: `% to modulo.` },
    
    // 14. INNE (Systemowe, Licencje)
    { text: `GPL to licencja typu:`, options: [`Copyleft (wirusowa)`, `Public Domain`, `Proprietary`, `Shareware`], answer: 0, explanation: `Wymaga udostƒôpnienia kodu ≈∫r√≥d≈Çowego pochodnych dzie≈Ç.` },
    { text: `JƒÖdro Linuxa napisa≈Ç:`, options: [`Linus Torvalds`, `Richard Stallman`, `Bill Gates`, `Steve Jobs`], answer: 0, explanation: `W 1991 roku.` },
    { text: `Projekt GNU za≈Ço≈ºy≈Ç:`, options: [`Linus Torvalds`, `Richard Stallman`, `Dennis Ritchie`, `Ken Thompson`], answer: 1, explanation: `W 1983 roku.` },
    { text: `Najwy≈ºszy u≈ºytkownik w systemie (administrator) to:`, options: [`admin`, `root`, `superuser`, `sysop`], answer: 1, explanation: `UID 0.` },
    { text: `Plik /etc/shadow przechowuje:`, options: [`Has≈Ça (hash)`, `Nazwy u≈ºytkownik√≥w`, `Grupy`, `Logi`], answer: 0, explanation: `Bezpieczniejszy ni≈º /etc/passwd.` },
    { text: `Aby zmieniƒá swoje has≈Ço wpiszesz:`, options: [`password`, `passwd`, `chpass`, `setpass`], answer: 1, explanation: `passwd.` },
    { text: `Znak '|' (pipe) wstawiasz klawiszem (na typowej klawiaturze):`, options: [`Shift + \ `, `Alt + P`, `Ctrl + Z`, `Shift + 1`], answer: 0, explanation: `Nad Enterem (zazwyczaj).` },
    
    // 15. DOK≈ÅADKA
    { text: `Co robi 'ls -F'?`, options: [`Dodaje znaczniki typu plik√≥w (np. / dla katalogu, * dla exe)`, `Formatuje dysk`, `Szuka plik√≥w`, `Sortuje wg folder√≥w`], answer: 0, explanation: `U≈Çatwia wizualne rozr√≥≈ºnienie typ√≥w.` },
    { text: `Co robi 'sleep 10'?`, options: [`Usypia komputer`, `Wstrzymuje wykonanie na 10 sekund`, `Czeka do godziny 10`, `Zamyka terminal`], answer: 1, explanation: `Pauza.` },
    { text: `Aby wyczy≈õciƒá ekran terminala wpiszesz:`, options: [`cls`, `clear`, `clean`, `reset`], answer: 1, explanation: `clear (lub Ctrl+L).` },
    { text: `Polecenie 'man ls':`, options: [`Wy≈õwietla podrƒôcznik dla ls`, `Uruchamia ls`, `Instaluje ls`, `Szuka ls`], answer: 0, explanation: `man = manual.` },
    { text: `Aby wyj≈õƒá z 'man' lub 'less' naciskasz:`, options: [`Esc`, `q`, `Ctrl+C`, `Exit`], answer: 1, explanation: `q = quit.` },
    { text: `Co robi 'uname -a'?`, options: [`Wy≈õwietla informacje o systemie/jƒÖdrze`, `Wy≈õwietla nazwƒô u≈ºytkownika`, `Wy≈õwietla nazwƒô hosta`, `Wy≈õwietla IP`], answer: 0, explanation: `System info.` },
    { text: `Adres IP sprawdzisz poleceniem (nowy standard):`, options: [`ifconfig`, `ip addr`, `netstat`, `ping`], answer: 1, explanation: `ip addr (ip a) to nastƒôpca ifconfig.` },
    { text: `Aby sprawdziƒá wolne miejsce na dysku:`, options: [`df -h`, `du -h`, `free -m`, `ls -s`], answer: 0, explanation: `df = disk free.` },
    { text: `Aby sprawdziƒá zajƒôto≈õƒá miejsca przez katalog:`, options: [`df`, `du -sh`, `ls -l`, `size`], answer: 1, explanation: `du = disk usage.` },
    { text: `Polecenie 'free' pokazuje:`, options: [`Wolne miejsce na dysku`, `U≈ºycie pamiƒôci RAM`, `Wolne procesy`, `Licencjƒô`], answer: 1, explanation: `RAM i Swap.` },
    
    // Pytania z obrazka "Co wypisze polecenie echo..."
    { text: `Co wypisze polecenie echo w ciƒÖgu: cd /home; pwd=abc; bash; export pwd; pwd=bbb; exit; echo $pwd`, code: `cd /home/student\npwd=abc\nbash\nexport pwd\npwd=bbb\nexit\necho $pwd`, options: [`abc`, `bbb`, `/home/student`, `b≈ÇƒÖd`], answer: 0, explanation: `Proces potomny (bash) nie zmienia zmiennych rodzica. 'export' wewnƒÖtrz potomka eksportuje do JEGO dzieci, a nie do rodzica.` },
    
    // Jeszcze wiƒôcej dla pewno≈õci 150+
    { text: `Jak wypisaƒá tylko 3 ostatnie linie pliku?`, options: [`head -3`, `tail -3`, `cut -3`, `sed 3`], answer: 1, explanation: `tail.` },
    { text: `Jak wypisaƒá plik z numerami linii?`, options: [`cat -n`, `ls -n`, `echo -n`, `wc -n`], answer: 0, explanation: `cat -n numeruje wyj≈õcie.` },
    { text: `Co oznacza [ -d /tmp ] w skrypcie?`, options: [`Sprawdza czy /tmp jest katalogiem`, `Sprawdza czy /tmp istnieje`, `Kasuje /tmp`, `Wchodzi do /tmp`], answer: 0, explanation: `-d directory test.` },
    { text: `Jaki kod powrotu (exit code) oznacza b≈ÇƒÖd?`, options: [`0`, `1 (lub ka≈ºda r√≥≈ºna od 0)`, `-1`, `null`], answer: 1, explanation: `0 to sukces.` },
    { text: `Je≈õli plik a.txt nie istnieje, polecenie 'ls a.txt 2> error.log':`, options: [`Wy≈õwietli b≈ÇƒÖd na ekranie`, `Zapisze b≈ÇƒÖd w error.log`, `Stworzy pusty a.txt`, `Nic nie zrobi`], answer: 1, explanation: `Przekierowanie stderr (2>).` },
    { text: `Co robi 'ls >> lista.txt'?`, options: [`Nadpisuje lista.txt`, `Dopisuje wynik ls na koniec lista.txt`, `Wy≈õwietla lista.txt`, `B≈ÇƒÖd`], answer: 1, explanation: `Append >>.` },
    { text: `Jak wy≈õwietliƒá historiƒô polece≈Ñ?`, options: [`history`, `log`, `past`, `mem`], answer: 0, explanation: `history.` },
    { text: `Jak uruchomiƒá polecenie o numerze 100 z historii?`, options: [`!100`, `#100`, `run 100`, `his 100`], answer: 0, explanation: `Wykrzyknik to odwo≈Çanie do historii.` },
    { text: `Jak uruchomiƒá ostatnie polecenie?`, options: [`!!`, `again`, `redo`, `last`], answer: 0, explanation: `!! to skr√≥t do ostatniej komendy.` },
    { text: `Co robi 'mkdir -p A/B/C'?`, options: [`Tworzy tylko C`, `Tworzy ca≈ÇƒÖ ≈õcie≈ºkƒô (A, potem B, potem C)`, `Zg≈Çasza b≈ÇƒÖd je≈õli A nie istnieje`, `Pyta o zgodƒô`], answer: 1, explanation: `-p = parents (tw√≥rz brakujƒÖce katalogi nadrzƒôdne).` },
    { text: `Jak skopiowaƒá katalog z zawarto≈õciƒÖ?`, options: [`cp -r`, `cp -d`, `copy -all`, `cat -r`], answer: 0, explanation: `-r = recursive.` },
    { text: `Jak przenie≈õƒá plik i zmieniƒá jego nazwƒô jednocze≈õnie?`, options: [`mv old new`, `cp old new`, `ren old new`, `mv -n old new`], answer: 0, explanation: `mv robi obie rzeczy.` },
    { text: `Domy≈õlne prawa dla katalogu domowego to zazwyczaj:`, options: [`755 lub 700`, `777`, `666`, `000`], answer: 0, explanation: `Tylko w≈Ça≈õciciel (700) lub w≈Ça≈õciciel+odczyt inni (755).` },
    { text: `Pliki urzƒÖdze≈Ñ w /dev to pliki typu:`, options: [`Blokowe (b) i Znakowe (c)`, `Tekstowe`, `Obrazki`, `Linki`], answer: 0, explanation: `Block / Character devices.` },
    { text: `Co oznacza '.' na poczƒÖtku nazwy pliku?`, options: [`Plik ukryty`, `Katalog`, `Plik wykonywalny`, `B≈ÇƒÖd`], answer: 0, explanation: `Hidden file.` },
    { text: `Co oznacza '.' jako argument (np. cd .)?`, options: [`Katalog bie≈ºƒÖcy`, `Katalog nadrzƒôdny`, `Root`, `Koniec`], answer: 0, explanation: `Current directory.` },
    { text: `Co oznacza '..' jako argument?`, options: [`Katalog nadrzƒôdny (rodzic)`, `Katalog bie≈ºƒÖcy`, `Root`, `Domowy`], answer: 0, explanation: `Parent directory.` },
    { text: `Jaki znak rodziela katalogi w ≈õcie≈ºce Linux?`, options: [`/ (slash)`, `\ (backslash)`, `: (dwukropek)`, `. (kropka)`], answer: 0, explanation: `Slash.` },
    { text: `Jaki znak rodziela ≈õcie≈ºki w zmiennej PATH?`, options: [`: (dwukropek)`, `; (≈õrednik)`, `, (przecinek)`, `Spacja`], answer: 0, explanation: `Dwukropek.` },
    { text: `Co robi 'ping google.com'?`, options: [`Sprawdza po≈ÇƒÖczenie sieciowe`, `Pobiera stronƒô`, `Atakuje serwer`, `Szuka IP`], answer: 0, explanation: `ICMP echo request.` },
    { text: `Jak zatrzymaƒá dzia≈ÇajƒÖcy w terminalu ping?`, options: [`Ctrl+C`, `Ctrl+Z`, `Esc`, `q`], answer: 0, explanation: `Przerwanie procesu.` },
    { text: `Czy Linux rozr√≥≈ºnia wielko≈õƒá liter w nazwach plik√≥w?`, options: [`Tak (Case Sensitive)`, `Nie`, `Tylko na roocie`, `Zale≈ºy od pogody`], answer: 0, explanation: `Plik 'A' i 'a' to dwa r√≥≈ºne pliki.` },
    { text: `Co to jest PID?`, options: [`Process ID`, `Personal ID`, `Port ID`, `Path ID`], answer: 0, explanation: `Unikalny numer procesu.` },
    { text: `G≈Ç√≥wny proces startowy w nowoczesnym Linuxie to:`, options: [`systemd (PID 1)`, `initd`, `bash`, `kernel`], answer: 0, explanation: `systemd.` },
    { text: `Polecenie 'top' lub 'htop' s≈Çu≈ºy do:`, options: [`Monitorowania proces√≥w i zasob√≥w na ≈ºywo`, `Wy≈õwietlania g√≥ry pliku`, `Zmiany tapety`, `Logowania`], answer: 0, explanation: `Task manager.` },
    { text: `Pliki log√≥w systemowych sƒÖ zazwyczaj w:`, options: [`/var/log`, `/etc/log`, `/bin/log`, `/home/log`], answer: 0, explanation: `Standardowa lokalizacja.` },
    { text: `Aby rozpakowaƒá archiwum .tar.gz:`, options: [`tar -xzvf`, `tar -czvf`, `unzip`, `rar x`], answer: 0, explanation: `x=extract, z=gzip, v=verbose, f=file.` },
    { text: `Aby stworzyƒá archiwum .tar.gz:`, options: [`tar -czvf`, `tar -xzvf`, `zip`, `compress`], answer: 0, explanation: `c=create.` }

    // ... To powinno daƒá oko≈Ço 130-140 solidnych pyta≈Ñ.
];

// --- LOGIKA APLIKACJI ---

// Funkcja tasujƒÖca (Fisher-Yates Shuffle)
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

// Inicjalizacja
let currentIdx = 0;
let score = 0;
let questions = [];

// Bezpieczne ≈Çadowanie
try {
    questions = [...questionsDatabase];
    shuffleArray(questions);
    
    // Sprawdzenie czy baza nie jest pusta
    if(questions.length === 0) throw new Error("Baza pyta≈Ñ jest pusta!");
    
    // Start po za≈Çadowaniu DOM
    window.onload = function() {
        loadQuestion();
    };

} catch (e) {
    document.getElementById('question-count').innerText = "B≈ÅƒÑD KRYTYCZNY";
    document.getElementById('error-display').innerText = e.message;
    document.getElementById('error-display').style.display = 'block';
}

const ui = {
    box: document.getElementById('quiz-box'),
    result: document.getElementById('result-box'),
    qText: document.getElementById('q-text'),
    qCode: document.getElementById('q-code'),
    opts: document.getElementById('options'),
    feedback: document.getElementById('feedback'),
    nextBtn: document.getElementById('next-btn'),
    count: document.getElementById('question-count'),
    scoreLive: document.getElementById('score-live'),
    progress: document.getElementById('progress-fill'),
    finalScore: document.getElementById('final-score'),
    scoreMsg: document.getElementById('score-msg')
};

function loadQuestion() {
    if (currentIdx >= questions.length) {
        finishQuiz();
        return;
    }

    const q = questions[currentIdx];
    
    // UI Update
    ui.count.innerText = `Pytanie ${currentIdx + 1} z ${questions.length}`;
    ui.scoreLive.innerText = `Punkty: ${score}`;
    ui.progress.style.width = `${((currentIdx) / questions.length) * 100}%`;
    
    ui.qText.innerText = q.text;
    
    // Kod
    if (q.code) {
        ui.qCode.innerText = q.code;
        ui.qCode.style.display = 'block';
    } else {
        ui.qCode.style.display = 'none';
    }

    ui.opts.innerHTML = '';
    ui.feedback.style.display = 'none';
    ui.nextBtn.style.display = 'none';

    // Przyciski
    q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(idx, btn, q);
        ui.opts.appendChild(btn);
    });
}

function checkAnswer(selectedIdx, btn, q) {
    const allBtns = ui.opts.querySelectorAll('.btn');
    allBtns.forEach(b => b.disabled = true);

    if (selectedIdx === q.answer) {
        btn.classList.add('correct');
        score++;
        ui.feedback.innerHTML = `<strong>Dobrze!</strong><br>${q.explanation}`;
        ui.feedback.style.backgroundColor = '#d4edda';
        ui.feedback.style.color = '#155724';
        ui.feedback.style.border = '1px solid #c3e6cb';
    } else {
        btn.classList.add('wrong');
        allBtns[q.answer].classList.add('correct');
        ui.feedback.innerHTML = `<strong>≈πle.</strong><br>${q.explanation}`;
        ui.feedback.style.backgroundColor = '#f8d7da';
        ui.feedback.style.color = '#721c24';
        ui.feedback.style.border = '1px solid #f5c6cb';
    }
    
    ui.feedback.style.display = 'block';
    ui.nextBtn.style.display = 'block';
    ui.nextBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

function nextQuestion() {
    currentIdx++;
    loadQuestion();
}

function finishQuiz() {
    ui.box.style.display = 'none';
    ui.result.style.display = 'block';
    ui.finalScore.innerText = `${score} / ${questions.length}`;
    
    const percentage = (score / questions.length) * 100;
    let msg = "";
    if (percentage >= 90) msg = "Ekspert Linuxa! üêßüëë";
    else if (percentage >= 75) msg = "Bardzo dobry wynik!";
    else if (percentage >= 50) msg = "Zaliczone, ale powt√≥rz materia≈Ç.";
    else msg = "Musisz wiƒôcej poƒáwiczyƒá.";
    
    ui.scoreMsg.innerText = msg;
}
</script>

</body>
</html>
