<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wielki Quiz Linux - Pe≈Çna Baza (75 pyta≈Ñ)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; color: #333; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        .quiz-container { background: white; padding: 40px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); max-width: 800px; width: 100%; }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 10px; }
        .status-bar { display: flex; justify-content: space-between; margin-bottom: 20px; color: #7f8c8d; font-size: 0.9em; font-weight: bold; }
        .progress-bar { width: 100%; height: 10px; background-color: #e0e0e0; border-radius: 5px; margin-bottom: 25px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: #3498db; width: 0%; transition: width 0.3s ease; }
        .question-text { font-size: 1.25em; font-weight: 600; margin-bottom: 20px; line-height: 1.4; }
        .code-block { background: #282c34; color: #abb2bf; padding: 15px; border-radius: 6px; font-family: 'Consolas', 'Monaco', monospace; margin: 15px 0; white-space: pre-wrap; overflow-x: auto; font-size: 0.9em; border-left: 5px solid #e67e22; }
        .btn { width: 100%; padding: 12px 15px; border: 2px solid #e1e4e8; background: white; cursor: pointer; border-radius: 8px; text-align: left; transition: all 0.2s; font-size: 1rem; margin-bottom: 10px; }
        .btn:hover:not([disabled]) { background-color: #f8f9fa; border-color: #3498db; }
        .btn.correct { background-color: #d4edda; border-color: #28a745; color: #155724; }
        .btn.wrong { background-color: #f8d7da; border-color: #dc3545; color: #721c24; }
        .feedback { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; line-height: 1.5; font-size: 0.95em; }
        .next-btn { background-color: #2980b9; color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer; float: right; display: none; margin-top: 20px; font-size: 1em; font-weight: bold; }
        .next-btn:hover { background-color: #1abc9c; }
        .result-view { text-align: center; display: none; }
        .final-score { font-size: 4em; font-weight: bold; color: #2c3e50; margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-box">
    <h1>Egzamin Linux - Pe≈Çna Baza</h1>
    
    <div class="status-bar">
        <span id="question-count">Pytanie 1 z 75</span>
        <span id="score-live">Punkty: 0</span>
    </div>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>

    <div class="question-text" id="q-text"></div>
    <div id="q-code" class="code-block" style="display:none;"></div>
    <div id="options"></div>
    
    <div id="feedback" class="feedback"></div>
    <button id="next-btn" class="next-btn" onclick="nextQuestion()">Nastƒôpne pytanie ‚ûî</button>
</div>

<div class="quiz-container result-view" id="result-box">
    <h1>Koniec egzaminu!</h1>
    <p>Tw√≥j wynik ko≈Ñcowy:</p>
    <div class="final-score" id="final-score">0/0</div>
    <p id="score-msg" style="font-size: 1.2em; color: #555;"></p>
    <button class="btn" onclick="location.reload()" style="text-align: center; background-color: #3498db; color: white; border: none; margin-top: 20px;">Spr√≥buj ponownie</button>
</div>

<script>
const questions = [
    // --- PARTIA 1: Pytania z PYTANIA.png (Systemowe/Podchwytliwe) ---
    {
        text: `DefiniujƒÖc partycjƒô 'swap' jako punkt montowania wska≈ºesz:`,
        options: [`katalog /swap`, `katalog /mnt/swap`, `plik /memory/swap`, `Przy partycji swap nie wskazuje siƒô punktu montowania`],
        answer: 3,
        explanation: ` Swap nie jest czƒô≈õciƒÖ drzewa katalog√≥w (jak /home czy /usr), lecz jest u≈ºywany bezpo≈õrednio przez jƒÖdro do zarzƒÖdzania pamiƒôciƒÖ.`
    },
    {
        text: `Co wypisze polecenie echo w nastƒôpujƒÖcym ciƒÖgu polece≈Ñ?`,
        code: `cd /home/student
pwd=abc
bash
export pwd
pwd=bbb
exit
echo $pwd`,
        options: [`bbb`, `abc`, `/home/student`, `b≈ÇƒÖd`],
        answer: 1,
        explanation: ` Uruchomienie 'bash' tworzy proces potomny. Zmienna zmieniona w potomku ('bbb') nie nadpisuje zmiennej w procesie rodzica. Po wyj≈õciu (exit) w rodzicu wciƒÖ≈º jest 'abc'.`
    },
    {
        text: `Po stworzeniu nowego katalogu poleceniem 'mkdir A', nastƒôpujƒÖce wpisy bƒôdƒÖ posiada≈Çy ten sam numer i-node'u:`,
        options: [`A oraz ./A/`, `A oraz A/.`, `A/ oraz /A/.`, `.. oraz A`],
        answer: 1,
        explanation: ` Wpis 'A' (w katalogu nadrzƒôdnym) i wpis '.' (kropka wewnƒÖtrz katalogu A) wskazujƒÖ na ten sam fizyczny katalog (ten sam i-node).`
    },
    {
        text: `W katalogu bie≈ºƒÖcym skasuj plik o nazwie * (gwiazdka).`,
        options: [`rm *`, `rm all`, `rm \\*`, `rm %`],
        answer: 2,
        explanation: ` Gwiazdka to metaznak. ≈ªeby u≈ºyƒá jej jako zwyk≈Çego znaku w nazwie pliku, trzeba jƒÖ "uciec" (escape) znakiem backslash: \\*.`
    },
    {
        text: `Zak≈ÇadajƒÖc, ≈ºe znajdujesz siƒô w /home/student/B. Jak przenie≈õƒá plik a.txt z katalogu A (r√≥wnoleg≈Çego do B) do katalogu B?`,
        code: `/home/student
‚îú‚îÄ‚îÄ A
‚îÇ   ‚îî‚îÄ‚îÄ a.txt
‚îî‚îÄ‚îÄ B (tu jeste≈õ)`,
        options: [`mv A/a.txt B/`, `mv ../A/a.txt .`, `mv /A/a.txt .`, `cp A/a.txt ./B`],
        answer: 1,
        explanation: ` Musisz wyj≈õƒá katalog wy≈ºej (..), wej≈õƒá do A, wskazaƒá plik i przenie≈õƒá go do katalogu bie≈ºƒÖcego (.).`
    },
    {
        text: `Do zmiany nazwy pliku wykorzystasz polecenie:`,
        options: [`mv`, `rename`, `chname`, `chpath`],
        answer: 0,
        explanation: ` Polecenie 'mv' (move) s≈Çu≈ºy zar√≥wno do przenoszenia, jak i zmiany nazwy plik√≥w.`
    },
    {
        text: `Co wypisze polecenie: echo "*"?`,
        options: [`Wszystkie pliki w katalogu`, `Znak gwiazdki (*)`, `B≈ÇƒÖd sk≈Çadni`, `Nazwƒô katalogu`],
        answer: 1,
        explanation: ` Cudzys≈Ç√≥w podw√≥jny chroni wiƒôkszo≈õƒá metaznak√≥w (ale nie $ czy backticks). Gwiazdka w cudzys≈Çowie jest traktowana dos≈Çownie.`
    },
    // --- PARTIA 2: Pytania z PDF (Komendy i Teoria) ---
    {
        text: `Wzorzec wyra≈ºe≈Ñ regularnych '.' (kropka) odnosi siƒô do:`,
        options: [`Linii z≈Ço≈ºonej z trzech znak√≥w`, `Dowolnego pojedynczego znaku`, `Znaku kropki`, `Ko≈Ñca linii`],
        answer: 1,
        explanation: ` W wyra≈ºeniach regularnych (regex) kropka zastƒôpuje jeden dowolny znak (z wyjƒÖtkiem nowej linii).`
    },
    {
        text: `Jaki bƒôdzie efekt polecenia: cp /tmp/a.txt SA`,
        options: [`Skopiowanie pliku do katalogu SA`, `B≈ÇƒÖd parametru`, `Skopiowanie pliku /tmp/a.txt jako plik o nazwie SA w bie≈ºƒÖcym katalogu`, `Przeniesienie pliku`],
        answer: 2,
        explanation: ` Je≈õli SA nie istnieje jako katalog, cp stworzy plik o nazwie SA.`
    },
    {
        text: `Z pliku a.txt wykasuj wszystkie linie ko≈ÑczƒÖce siƒô literƒÖ A. (Wybierz poprawne polecenie)`,
        code: `grep -v 'A$' a.txt > a.tmp && mv a.tmp a.txt`,
        options: [`Poprawne`, `B≈Çƒôdne`],
        answer: 0,
        explanation: ` grep -v odwraca dopasowanie (usuwa pasujƒÖce linie). 'A$' oznacza literƒô A na ko≈Ñcu linii.`
    },
    {
        text: `Co wypisze: echo \\$5`,
        options: [`Warto≈õƒá piƒÖtego parametru`, `$5 (dos≈Çownie)`, `PustƒÖ liniƒô`, `B≈ÇƒÖd sk≈Çadni`],
        answer: 1,
        explanation: ` Backslash (\\) przed znakiem dolara odbiera mu specjalne znaczenie (nie jest ju≈º zmiennƒÖ).`
    },
    {
        text: `Co wypisze polecenie cat w ciƒÖgu: touch a.txt; echo aaa > a.txt; ln a.txt b.txt; echo bbb > b.txt; cat a.txt`,
        options: [`aaa`, `bbb`, `aaa bbb`, `b≈ÇƒÖd`],
        answer: 1,
        explanation: ` 'ln' bez flag tworzy twarde dowiƒÖzanie (hard link). To ten sam plik fizyczny. Zmiana w b.txt nadpisuje a.txt.`
    },
    {
        text: `Pierwsza linia w skrypcie postaci #!/bin/perl oznacza:`,
        options: [`Komentarz`, `≈ªe skrypt ma byƒá wykonany przez interpreter /bin/perl`, `≈öcie≈ºkƒô zapisu`, `B≈ÇƒÖd`],
        answer: 1,
        explanation: ` To shebang - instrukcja dla systemu, jakiego programu u≈ºyƒá do uruchomienia pliku.`
    },
    {
        text: `Wynikiem polecenia 'sort a.txt' dla pliku zawierajƒÖcego: 2, 1, 12 bƒôdzie:`,
        options: [`1, 2, 12`, `1, 12, 2`, `12, 1, 2`, `2, 1, 12`],
        answer: 1,
        explanation: ` Domy≈õlne sortowanie jest leksykograficzne (tekstowe). '12' zaczyna siƒô od '1', wiƒôc jest przed '2'.`
    },
    {
        text: `GPL wymaga, aby kod ≈∫r√≥d≈Çowy zmodyfikowanej wersji programu zosta≈Ç udostƒôpniony publicznie:`,
        options: [`Prawda`, `Fa≈Çsz`],
        answer: 0,
        explanation: ` Licencja GPL jest wirusowa - pochodne prace muszƒÖ byƒá na tej samej licencji.`
    },
    {
        text: `JednƒÖ kolumnƒô z pliku tekstowego wytniesz poleceniem:`,
        options: [`cut`, `paste`, `col`, `tr`],
        answer: 0,
        explanation: ` Polecenie 'cut' (np. cut -d: -f1) s≈Çu≈ºy do wycinania kolumn.`
    },
    {
        text: `Co wypisze 'echo aaa a.txt; echo bbb a.txt; cat a.txt'? (Zak≈ÇadajƒÖc puste a.txt na start)`,
        options: [`aaa bbb`, `bbb`, `b≈ÇƒÖd`, `aaa`],
        answer: 2,
        explanation: ` Pytanie jest podchwytliwe w sk≈Çadni. 'echo aaa a.txt' wypisze po prostu tekst 'aaa a.txt' na ekran, nie zapisze do pliku (brak >).`
    },
    {
        text: `Czy zmiana warto≈õci zmiennej ≈õrodowiskowej w procesie potomnym wp≈Çywa na proces macierzysty?`,
        options: [`Tak`, `Tylko gdy wyeksportowana`, `Nie`, `Tylko dla roota`],
        answer: 2,
        explanation: ` Procesy dziedziczƒÖ ≈õrodowisko w jednƒÖ stronƒô (od rodzica). Potomek nie mo≈ºe zmieniƒá ≈õrodowiska rodzica.`
    },
    {
        text: `Kt√≥re wiersze wy≈õwietli: grep [abc] a.txt? (a.txt: aabbcc, abcabc, 722)`,
        options: [`1 i 2`, `1`, `2`, `3`],
        answer: 0,
        explanation: ` [abc] szuka dowolnego wystƒÖpienia litery a, b LUB c. WystƒôpujƒÖ one w wierszu 1 i 2.`
    },
    {
        text: `Wyra≈ºenia regularne przetwarzane sƒÖ przez:`,
        options: [`Pow≈Çokƒô`, `Polecenie, kt√≥remu sƒÖ przekazane (np. grep)`, `JƒÖdro systemu`, `BIOS`],
        answer: 1,
        explanation: ` Pow≈Çoka rozwija metaznaki (globbing), ale regexy (np. ^, $) sƒÖ interpretowane przez program (grep, sed).`
    },
    {
        text: `Liczbƒô parametr√≥w przekazanych do skryptu odczytaƒá mo≈ºna zmiennƒÖ:`,
        options: [`$#`, `$*`, `$@`, `$?`],
        answer: 0,
        explanation: ` $# to licznik argument√≥w.`
    },
    {
        text: `W poleceniu 'cp ../a.txt /home/student/B/':`,
        options: [`Oba parametry to ≈õcie≈ºki wzglƒôdne`, `Pierwszy wzglƒôdna, drugi bezwzglƒôdna`, `Oba bezwzglƒôdne`, `Odwrotnie`],
        answer: 1,
        explanation: ` '../' zaczyna siƒô od katalogu bie≈ºƒÖcego (wzglƒôdna). '/home' zaczyna siƒô od / (bezwzglƒôdna).`
    },
    {
        text: `Co wstawisz w miejsce kropek: rm a.txt .... echo b≈ÇƒÖd, aby komunikat wy≈õwietli≈Ç siƒô TYLKO przy b≈Çƒôdzie?`,
        options: [`&&`, `||`, `;`, `|`],
        answer: 1,
        explanation: ` Operator || uruchamia drugie polecenie tylko wtedy, gdy pierwsze zwr√≥ci b≈ÇƒÖd (exit code != 0).`
    },
    {
        text: `Podstawowe dane o u≈ºytkownikach (np. shell, uid) sƒÖ w pliku:`,
        options: [`/var/users`, `/etc/passwd`, `/etc/shadow`, `/home`],
        answer: 1,
        explanation: ` /etc/passwd to g≈Ç√≥wna baza u≈ºytkownik√≥w.`
    },
    {
        text: `Prawa 640 oznaczajƒÖ:`,
        options: [`rw- r-- ---`, `rw- rw- ---`, `r-- r-- ---`, `rwx r-x ---`],
        answer: 0,
        explanation: ` 6 (4+2=rw), 4 (r), 0 (---).`
    },
    {
        text: `Polecenie 'tail -f a.txt' spowoduje:`,
        options: [`Wypisanie ostatnich 5 linii`, `≈öledzenie przyrost√≥w pliku na bie≈ºƒÖco`, `Skasowanie pliku`, `Otwarcie edytora`],
        answer: 1,
        explanation: ` -f to 'follow'.`
    },
    {
        text: `Efektem 'head -n -2 a.txt' bƒôdzie:`,
        options: [`Wypisanie 2 pierwszych linii`, `Wypisanie wszystkich linii opr√≥cz dw√≥ch ostatnich`, `B≈ÇƒÖd`, `Dwie puste linie`],
        answer: 1,
        explanation: ` Ujemna warto≈õƒá w head oznacza obciƒôcie ko≈Ñca pliku.`
    },
    {
        text: `Jakie polecenie wykorzystasz do policzenia wierszy w pliku?`,
        options: [`wc -l`, `abc`, `sed`, `grep`],
        answer: 0,
        explanation: ` wc -l (word count --lines).`
    },
    {
        text: `Za rozwiniƒôcie metaznak√≥w (np. *.txt) odpowiada:`,
        options: [`JƒÖdro`, `Pow≈Çoka`, `Polecenie`, `Biblioteka`],
        answer: 1,
        explanation: ` Shell rozwija gwiazdki zanim uruchomi program.`
    },
    {
        text: `Zmienna ≈õrodowiskowa BASH_ENV wykorzystywana jest przez pow≈Çokƒô:`,
        options: [`Logowania`, `NieinteraktywnƒÖ`, `WbudowanƒÖ`, `InteraktywnƒÖ`],
        answer: 1,
        explanation: ` U≈ºywana przy uruchamianiu skrypt√≥w (pow≈Çoki nieinteraktywne).`
    },
    {
        text: `Polecenie PATH=$PATH:/home/student/bin/myls pozwoli:`,
        options: [`Uruchamiaƒá programy z tego katalogu`, `Uruchamiaƒá tylko program myls`, `Uruchamiaƒá programy z katalogu .../bin bez ≈õcie≈ºki`, `B≈ÇƒÖd (myls to plik)`],
        answer: 3,
        explanation: ` PATH musi zawieraƒá KATALOGI, a nie pliki wykonywalne.`
    },
    {
        text: `Zak≈ÇadajƒÖc plik a.txt: 1, +, 2, +, 3 (w pionie). Jaki bƒôdzie efekt 'wc -l a.txt'?`,
        options: [`B≈ÇƒÖd`, `5`, `3`, `6`],
        answer: 1,
        explanation: ` Ka≈ºda linia to jeden liczony wiersz. 5 element√≥w w pionie = 5 linii.`
    },
    {
        text: `Je≈ºeli do skryptu przekazano parametry, to $1 oznacza:`,
        options: [`Nazwƒô skryptu`, `Pierwszy parametr`, `Liczbƒô parametr√≥w`, `PID`],
        answer: 1,
        explanation: ` $0 to nazwa skryptu, $1 to pierwszy argument.`
    },
    {
        text: `Pow≈Çoka nieinteraktywna domy≈õlnie jako pierwszy uruchamia plik:`,
        options: [`~/.bashrc`, `/etc/profile`, `≈ªadnych plik√≥w (chyba ≈ºe zdefiniowano BASH_ENV)`, `~/.profile`],
        answer: 2,
        explanation: ` Skrypty zazwyczaj nie ≈ÇadujƒÖ plik√≥w konfiguracyjnych interaktywnych pow≈Çok.`
    },
    {
        text: `Co wypisze 'echo [!a-k]*' je≈õli w katalogu sƒÖ pliki: a, b, z?`,
        options: [`a b`, `z`, `a b z`, `B≈ÇƒÖd`],
        answer: 1,
        explanation: ` Wykrzyknik w nawiasie [] neguje zakres. Szukamy znaku, kt√≥ry NIE jest miƒôdzy a i k.`
    },
    {
        text: `Jaki bƒôdzie efekt: who | cut -d- -f1 | tr a-z A-Z`,
        options: [`IMROZEK (wielkimi literami)`, `imrozek`, `B≈ÇƒÖd`, `Lista proces√≥w`],
        answer: 0,
        explanation: ` 'tr a-z A-Z' zamienia ma≈Çe litery na du≈ºe.`
    },
    {
        text: `Jakie polecenie wykorzystasz, aby dowiedzieƒá siƒô, gdzie jest kod wykonywalny polecenia ls?`,
        options: [`which ls`, `where is ls`, `find ls`, `locate ls`],
        answer: 0,
        explanation: ` Polecenie 'which' pokazuje ≈õcie≈ºkƒô do pliku wykonywalnego.`
    },
    {
        text: `Po skasowaniu u≈ºytkownika, pliki kt√≥rych by≈Ç w≈Ça≈õcicielem:`,
        options: [`SƒÖ kasowane`, `PozostajƒÖ bez zmian (widaƒá UID)`, `PrzechodzƒÖ na roota`, `SƒÖ przenoszone do /tmp`],
        answer: 1,
        explanation: ` System plik√≥w przechowuje tylko numer ID. Je≈õli brak u≈ºytkownika w /etc/passwd, widaƒá sam numer.`
    },
    {
        text: `Ile dowiƒÖza≈Ñ (link count) posiada nowo stworzony katalog?`,
        options: [`1`, `2`, `3`, `0`],
        answer: 1,
        explanation: ` Dwa: nazwa w katalogu rodzica oraz '.' wewnƒÖtrz samego katalogu.`
    },
    {
        text: `Polecenia wbudowane w systemie Linux (np. pwd):`,
        options: [`SƒÖ uruchamiane przez jƒÖdro`, `SƒÖ zaimplementowane wewnƒÖtrz pow≈Çoki (ten sam proces)`, `SƒÖ zewnƒôtrznymi plikami`, `SƒÖ aliasami`],
        answer: 1,
        explanation: ` Built-in commands wykonujƒÖ siƒô w pamiƒôci procesu shella.`
    },
    {
        text: `Podaj wzorzec grep dla linii rozpoczynajƒÖcych siƒô ciƒÖgiem 'abc':`,
        options: [`grep ^abc`, `grep abc$`, `grep *abc`, `grep ?abc`],
        answer: 0,
        explanation: ` Znak ^ (daszek) oznacza poczƒÖtek linii.`
    },
    {
        text: `Po stworzeniu nowego katalogu poleceniem 'mkdir A', te same i-nody majƒÖ:`,
        options: [`A oraz A/.`, `A oraz ..`, `A oraz /`, `B≈ÇƒÖd`],
        answer: 0,
        explanation: ` (To powt√≥rzenie wa≈ºnego pytania w innej formie) Nazwa 'A' i kropka w ≈õrodku to to samo.`
    },
    {
        text: `Do stworzenia pliku tymczasowego o unikalnej nazwie wykorzystasz zmiennƒÖ:`,
        options: [`$$`, `$#`, `$?`, `$!`],
        answer: 0,
        explanation: ` $$ to PID bie≈ºƒÖcego procesu, co zapewnia unikalno≈õƒá w danym momencie.`
    },
    {
        text: `Kt√≥re polecenie wykorzysta≈Ço wzorzec z metaznakiem regex?`,
        options: [`grep '^a' plik`, `echo *`, `ls ?`, `cp a b`],
        answer: 0,
        explanation: ` ^ to metaznak regex. * i ? w shellu to globbing (nie regex w ≈õcis≈Çym sensie grep).`
    },
    {
        text: `Do zarzƒÖdzania okresem wa≈ºno≈õci has≈Ça u≈ºyjesz:`,
        options: [`chage`, `passwd`, `shadow`, `usermod`],
        answer: 0,
        explanation: ` chage (change age) s≈Çu≈ºy do ustawiania wygasania hase≈Ç.`
    },
    {
        text: `Wymie≈Ñ dwie licencje wolnego oprogramowania:`,
        options: [`GPL i MIT`, `Freeware i Shareware`, `Windows i MacOS`, `Linux i Unix`],
        answer: 0,
        explanation: ` GPL i MIT to najpopularniejsze licencje Open Source.`
    },
    {
        text: `Wynikiem polecenia 'cat a.txt > b.txt' bƒôdzie:`,
        options: [`Skopiowanie zawarto≈õci a do b`, `Wy≈õwietlenie obu plik√≥w`, `B≈ÇƒÖd`, `Dopisanie a do b`],
        answer: 0,
        explanation: ` Przekierowanie > nadpisuje plik docelowy zawarto≈õciƒÖ ≈∫r√≥d≈Ça.`
    },
    {
        text: `Polecenie 'tac a.txt' wypisze:`,
        options: [`Plik od ostatniego wiersza do pierwszego`, `Plik odwr√≥cony literami`, `To samo co cat`, `B≈ÇƒÖd`],
        answer: 0,
        explanation: ` tac to cat wspak (wierszami).`
    },
    {
        text: `Co wypisze: A=1+2; echo $A`,
        options: [`3`, `1+2`, `B≈ÇƒÖd`, `A`],
        answer: 1,
        explanation: ` Bash domy≈õlnie traktuje wszystko jako tekst. Do liczenia trzeba u≈ºyƒá $((...)).`
    },
    {
        text: `Polecenie bc mo≈ºesz u≈ºyƒá w skrypcie do:`,
        options: [`Oblicze≈Ñ matematycznych (zmienno-przecinkowych)`, `Sortowania`, `Wyszukiwania`, `Edycji tekstu`],
        answer: 0,
        explanation: ` bc (basic calculator) obs≈Çuguje u≈Çamki, czego bash nie potrafi.`
    },
    {
        text: `Co wypisze: if rm a.txt ... else ... fi (zak≈ÇadajƒÖc b≈ÇƒÖd sk≈Çadni if)`,
        options: [`B≈ÇƒÖd sk≈Çadni`, `OK`, `BLAD`, `Nic`],
        answer: 0,
        explanation: ` Pytanie z kolokwium sugeruje b≈ÇƒÖd sk≈Çadni przy z≈Çym u≈ºyciu if/then.`
    },
    {
        text: `GNU to:`,
        options: [`Unixopodobny system operacyjny (wolne oprogramowanie)`, `JƒÖdro Linuxa`, `Firma`, `Licencja`],
        answer: 0,
        explanation: ` GNU = GNU's Not Unix.`
    },
    {
        text: `Co wypisze: echo a #echo b # echo c`,
        options: [`a`, `abc`, `a echo b`, `Nic`],
        answer: 0,
        explanation: ` Znak # rozpoczyna komentarz, reszta linii jest ignorowana.`
    },
    {
        text: `Polecenie printenv wypisze:`,
        options: [`Zmienne ≈õrodowiskowe (wyeksportowane)`, `Wszystkie zmienne`, `Funkcje`, `Aliasy`],
        answer: 0,
        explanation: ` printenv pokazuje environment variables.`
    },
    {
        text: `Pƒôtla 'for i in a.txt' (bez command substitution) wykona siƒô:`,
        options: [`Raz (dla s≈Çowa "a.txt")`, `Dla ka≈ºdego wiersza pliku`, `B≈ÇƒÖd`, `Dla ka≈ºdego pliku`],
        answer: 0,
        explanation: ` Bez $(cat a.txt) bash traktuje "a.txt" jako zwyk≈Çy napis.`
    },
    {
        text: `Efekt ciƒÖgu: cd /home/student/A; PATH=; cd /etc; ls`,
        options: [`B≈ÇƒÖd (command not found)`, `Wylistowanie /etc`, `Wylistowanie domowego`, `Nic`],
        answer: 0,
        explanation: ` Wyczyszczenie zmiennej PATH (PATH=) sprawia, ≈ºe pow≈Çoka nie mo≈ºe znale≈∫ƒá polecenia 'ls'.`
    },
    {
        text: `Polecenie wypisujƒÖce bie≈ºƒÖcƒÖ ≈õcie≈ºkƒô to:`,
        options: [`pwd`, `cwd`, `where`, `path`],
        answer: 0,
        explanation: ` pwd = print working directory.`
    },
    {
        text: `Polecenie wc mo≈ºesz u≈ºyƒá do:`,
        options: [`Policzenia linii, s≈Ç√≥w i znak√≥w`, `Edycji`, `Zmiany nazwy`, `Kopiowania`],
        answer: 0,
        explanation: ` wc = word count.`
    },
    {
        text: `Aby komunikaty o b≈Çƒôdach trafia≈Çy na stderr, nale≈ºy:`,
        options: [`Wykorzystaƒá przekierowanie strumienia (np. >&2)`, `U≈ºyƒá specjalnej komendy`, `JƒÖdro robi to samo`, `Zdefiniowaƒá zmiennƒÖ ERROR`],
        answer: 0,
        explanation: ` W skryptach czƒôsto pisze siƒô: echo "b≈ÇƒÖd" >&2.`
    },
    {
        text: `Standardowe wyj≈õcie (stdout) ma deskryptor:`,
        options: [`1`, `0`, `2`, `3`],
        answer: 0,
        explanation: ` 0=stdin, 1=stdout, 2=stderr.`
    },
    {
        text: `Do wyszukania plik√≥w o zadanym rozmiarze u≈ºyjesz:`,
        options: [`find`, `locate`, `grep`, `search`],
        answer: 0,
        explanation: ` find posiada opcjƒô -size.`
    },
    {
        text: `Co siƒô stanie po wpisaniu: ls \ <ENTER> cat a.txt`,
        options: [`Wy≈õwietli info o pliku cat i a.txt (traktuje jako jedno polecenie)`, `B≈ÇƒÖd`, `Dwa osobne polecenia`, `Nic`],
        answer: 0,
        explanation: ` Backslash na ko≈Ñcu linii 'escape'uje' znak nowej linii. Pow≈Çoka widzi to jako 'ls cat a.txt'. ls pr√≥buje wylistowaƒá plik o nazwie 'cat'.`
    },
    {
        text: `Co wypisze: test 5 -eq 5 && echo OK`,
        options: [`OK`, `Nic`, `5`, `B≈ÇƒÖd`],
        answer: 0,
        explanation: ` 5 r√≥wna siƒô 5, wiƒôc test zwraca prawdƒô (0), a operator && wykonuje echo.`
    },
    {
        text: `Zmienna PATH:`,
        options: [`Definiuje katalogi przeszukiwane w celu znalezienia polece≈Ñ`, `Definiuje pliki systemowe`, `≈öcie≈ºkƒô domowƒÖ`, `Nic wa≈ºnego`],
        answer: 0,
        explanation: ` To lista katalog√≥w oddzielonych dwukropkami.`
    },
    // --- PARTIA 3: Dodatkowe z KOLOS (Tekst) ---
    {
        text: `Podaj przyczynƒô umieszczenia /tmp na oddzielnej partycji:`,
        options: [`Unikniƒôcie przepe≈Çnienia partycji systemowej /`, `Szybsze dzia≈Çanie`, `Wym√≥g jƒÖdra`, `Brak powodu`],
        answer: 0,
        explanation: ` Pliki tymczasowe mogƒÖ szybko zajƒÖƒá ca≈Çe miejsce. Oddzielna partycja izoluje ten problem.`
    },
    {
        text: `Jaki bƒôdzie efekt polecenia: rmdir A (gdy w ≈õrodku jest plik a.txt)?`,
        options: [`B≈ÇƒÖd (Directory not empty)`, `Skasowanie wszystkiego`, `Skasowanie tylko pliku`, `Przeniesienie do kosza`],
        answer: 0,
        explanation: ` rmdir usuwa tylko puste katalogi.`
    },
    {
        text: `Wydaj polecenie, kt√≥re pozwoli uruchamiaƒá programy z /home/student/bin bez podawania ≈õcie≈ºki:`,
        options: [`export PATH=$PATH:/home/student/bin`, `PATH=/home/student/bin`, `cp /home/student/bin /bin`, `alias bin`],
        answer: 0,
        explanation: ` Nale≈ºy dopisaƒá katalog do zmiennej PATH.`
    },
    {
        text: `DowiƒÖzania symboliczne (ln -s) mogƒÖ byƒá realizowane:`,
        options: [`Na ca≈Çym obszarze systemu plik√≥w (miƒôdzy partycjami)`, `Tylko w jednej partycji`, `Tylko w jednym katalogu`, `Tylko dla roota`],
        answer: 0,
        explanation: ` Symlinki to tylko pliki tekstowe ze ≈õcie≈ºkƒÖ, mogƒÖ wskazywaƒá gdziekolwiek.`
    },
    {
        text: `Co to jest tabela partycji?`,
        options: [`Struktura opisujƒÖca podzia≈Ç dysku`, `Folder systemowy`, `Plik w pamiƒôci RAM`, `Lista u≈ºytkownik√≥w`],
        answer: 0,
        explanation: ` Znajduje siƒô w MBR lub nag≈Ç√≥wku GPT.`
    },
    {
        text: `Co wypisze pwd w ciƒÖgu: cd /etc; bash; cd /tmp; export pwd; pwd; exit`,
        options: [`/tmp`, `/etc`, `domowy`, `b≈ÇƒÖd`],
        answer: 0,
        explanation: ` Pytanie dotyczy momentu PRZED exit. WewnƒÖtrz podpow≈Çoki jeste≈õmy w /tmp.`
    },
    {
        text: `Polecenie cd to polecenie:`,
        options: [`Wbudowane w pow≈Çokƒô`, `Zewnƒôtrzne`, `JƒÖdra`, `Biblioteczne`],
        answer: 0,
        explanation: ` Musi byƒá wbudowane, by zmieniƒá stan procesu pow≈Çoki.`
    },
    {
        text: `Podaj przyk≈ÇadowƒÖ ≈õcie≈ºkƒô wzglƒôdnƒÖ:`,
        options: [`../A`, `/home/A`, `/tmp`, `/`],
        answer: 0,
        explanation: ` ≈öcie≈ºki wzglƒôdne nie zaczynajƒÖ siƒô od /.`
    },
    {
        text: `Efekt ciƒÖgu: echo ERROR > a 2>&1`,
        options: [`Tekst ERROR trafi do pliku a (wraz z ewentualnymi b≈Çƒôdami)`, `Trafi na ekran`, `B≈ÇƒÖd sk≈Çadni`, `Do pliku 1`],
        answer: 0,
        explanation: ` 2>&1 przekierowuje stderr na stdout, a stdout idzie do pliku 'a'.`
    },
    {
        text: `Co wypisze echo w: cd /home/student; A=\`pwd\`; echo $A`,
        options: [`/home/student`, `pwd`, `A`, `Nic`],
        answer: 0,
        explanation: ` Backticks wykonujƒÖ polecenie pwd i przypisujƒÖ wynik do zmiennej A.`
    },
    {
        text: `Jak odr√≥≈ºniƒá katalog od pliku w ls -l?`,
        options: [`Pierwszy znak to 'd'`, `Po kolorze`, `Po rozmiarze`, `Nie da siƒô`],
        answer: 0,
        explanation: ` d = directory.`
    },
    {
        text: `Jakiego parametru ls u≈ºyjesz, by wy≈õwietliƒá pliki ukryte?`,
        options: [`-a`, `-l`, `-h`, `-s`],
        answer: 0,
        explanation: ` -a (all).`
    },
    {
        text: `Polecenie locate:`,
        options: [`Wyszukuje w bazie danych`, `Przeszukuje dysk na ≈ºywo`, `Szuka w internecie`, `Szuka tylko binarek`],
        answer: 0,
        explanation: ` Locate korzysta z indeksowanej bazy (updatedb).`
    },
    {
        text: `Wszystkie pliki w podkatalogach zaczynajƒÖce siƒô na 'a' wyszukasz:`,
        options: [`find . -name "a*" -print`, `find a*`, `locate a`, `grep a`],
        answer: 0,
        explanation: ` find . (bie≈ºƒÖcy) -name "wzorzec".`
    },
    {
        text: `ls -l /bin wy≈õwietli:`,
        options: [`Informacje o plikach w katalogu /bin`, `Tylko informacje o samym katalogu (je≈õli u≈ºyto -d)`, `B≈ÇƒÖd`, `Zawarto≈õƒá root`],
        answer: 0,
        explanation: ` Domy≈õlnie ls listuje zawarto≈õƒá katalogu.`
    },
    {
        text: `Co wypisze: A=abc; export A; bash; $A=bbb; echo $A`,
        options: [`abc (i b≈ÇƒÖd przy pr√≥bie przypisania)`, `bbb`, `nic`, `b≈ÇƒÖd`],
        answer: 0,
        explanation: ` $A=bbb to b≈ÇƒÖd (pr√≥ba wykonania 'abc=bbb'). Zmienna A w podpow≈Çoce pozostaje niezmieniona (chyba ≈ºe przypiszemy poprawnie A=bbb).`
    },
    {
        text: `Polecenie mkdir umo≈ºliwia:`,
        options: [`Stworzenie katalogu`, `Stworzenie pliku`, `Zmianƒô katalogu`, `Usuniƒôcie katalogu`],
        answer: 0,
        explanation: ` make directory.`
    },
    {
        text: `Co wypisze cat w: echo aaa > a; ln a b; echo bbb > b; rm b; cat a`,
        options: [`bbb`, `aaa`, `b≈ÇƒÖd`, `nic`],
        answer: 0,
        explanation: ` Nadpisanie b (bbb) zmienia te≈º a. Usuniƒôcie b usuwa tylko jednƒÖ nazwƒô, a (z zawarto≈õciƒÖ bbb) zostaje.`
    },
    {
        text: `Polecenie 'cd' bez parametr√≥w:`,
        options: [`Zmienia na katalog domowy`, `Zmienia na root`, `Zostaje w miejscu`, `B≈ÇƒÖd`],
        answer: 0,
        explanation: ` cd = cd ~.`
    }
];

// --- LOGIKA APLIKACJI ---
let currentIdx = 0;
let score = 0;

const ui = {
    box: document.getElementById('quiz-box'),
    result: document.getElementById('result-box'),
    qText: document.getElementById('q-text'),
    qCode: document.getElementById('q-code'),
    opts: document.getElementById('options'),
    feedback: document.getElementById('feedback'),
    nextBtn: document.getElementById('next-btn'),
    count: document.getElementById('question-count'),
    scoreLive: document.getElementById('score-live'),
    progress: document.getElementById('progress-fill'),
    finalScore: document.getElementById('final-score'),
    scoreMsg: document.getElementById('score-msg')
};

function loadQuestion() {
    if (currentIdx >= questions.length) {
        finishQuiz();
        return;
    }

    const q = questions[currentIdx];
    
    // UI Update
    ui.count.innerText = `Pytanie ${currentIdx + 1} z ${questions.length}`;
    ui.scoreLive.innerText = `Punkty: ${score}`;
    ui.progress.style.width = `${((currentIdx) / questions.length) * 100}%`;
    
    ui.qText.innerText = q.text;
    
    if (q.code) {
        ui.qCode.innerText = q.code;
        ui.qCode.style.display = 'block';
    } else {
        ui.qCode.style.display = 'none';
    }

    ui.opts.innerHTML = '';
    ui.feedback.style.display = 'none';
    ui.nextBtn.style.display = 'none';

    // Tworzenie przycisk√≥w
    q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(idx, btn, q);
        ui.opts.appendChild(btn);
    });
}

function checkAnswer(selectedIdx, btn, q) {
    const allBtns = ui.opts.querySelectorAll('.btn');
    allBtns.forEach(b => b.disabled = true);

    if (selectedIdx === q.answer) {
        btn.classList.add('correct');
        score++;
        ui.feedback.innerHTML = `<strong>Dobrze!</strong><br>${q.explanation}`;
        ui.feedback.style.backgroundColor = '#d4edda';
        ui.feedback.style.color = '#155724';
        ui.feedback.style.border = '1px solid #c3e6cb';
    } else {
        btn.classList.add('wrong');
        allBtns[q.answer].classList.add('correct');
        ui.feedback.innerHTML = `<strong>≈πle.</strong><br>${q.explanation}`;
        ui.feedback.style.backgroundColor = '#f8d7da';
        ui.feedback.style.color = '#721c24';
        ui.feedback.style.border = '1px solid #f5c6cb';
    }
    
    ui.feedback.style.display = 'block';
    ui.nextBtn.style.display = 'block';
    
    // Scroll to bottom mobile friendly
    ui.nextBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

function nextQuestion() {
    currentIdx++;
    loadQuestion();
}

function finishQuiz() {
    ui.box.style.display = 'none';
    ui.result.style.display = 'block';
    ui.finalScore.innerText = `${score} / ${questions.length}`;
    
    const percentage = (score / questions.length) * 100;
    let msg = "";
    if (percentage === 100) msg = "Perfekcyjnie! Jeste≈õ gotowy na 5.0! üêßüéì";
    else if (percentage >= 80) msg = "≈öwietny wynik! Dobrze opanowa≈Çe≈õ materia≈Ç.";
    else if (percentage >= 50) msg = "Nie≈∫le, ale warto powt√≥rzyƒá trudniejsze pytania.";
    else msg = "Musisz jeszcze trochƒô poƒáwiczyƒá. Nie poddawaj siƒô!";
    
    ui.scoreMsg.innerText = msg;
}

// Start
loadQuestion();
</script>

</body>
</html>
